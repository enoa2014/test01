# å¾®ä¿¡å°ç¨‹åºæ‚£è€…æ¡£æ¡ˆç®¡ç†ç³»ç»Ÿ - ä¿¡æ¯æ¶æ„æ–‡æ¡£

<!-- renamed to kebab-case (information-architecture-doc.md) -->

## æ–‡æ¡£æ¦‚è¿°

### æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£æ—¨åœ¨å®šä¹‰å¾®ä¿¡å°ç¨‹åºæ‚£è€…æ¡£æ¡ˆç®¡ç†ç³»ç»Ÿçš„å®Œæ•´ä¿¡æ¯æ¶æ„ï¼ŒåŒ…æ‹¬é¡µé¢å±‚çº§ç»“æ„ã€å¯¼èˆªä½“ç³»ã€ä¿¡æ¯ç»„ç»‡æ–¹å¼å’Œå†…å®¹åˆ†ç±»ï¼Œä¸ºè®¾è®¡å’Œå¼€å‘æä¾›æ¸…æ™°çš„æ¶æ„æŒ‡å¯¼ã€‚

### é€‚ç”¨èŒƒå›´

- äº§å“ç»ç†ï¼šç†è§£äº§å“æ¶æ„å’ŒåŠŸèƒ½ç»„ç»‡
- UI/UXè®¾è®¡å¸ˆï¼šæŒ‡å¯¼ç•Œé¢è®¾è®¡å’Œç”¨æˆ·ä½“éªŒè®¾è®¡
- å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼šæŒ‡å¯¼é¡µé¢ç»“æ„å’Œç»„ä»¶æ¶æ„
- æµ‹è¯•å·¥ç¨‹å¸ˆï¼šç†è§£åŠŸèƒ½æ¨¡å—å’Œæµ‹è¯•èŒƒå›´

### ç‰ˆæœ¬ä¿¡æ¯

- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025å¹´9æœˆ
- **æœ€åæ›´æ–°**: 2025å¹´9æœˆ
- **ç»´æŠ¤äººå‘˜**: äº§å“è®¾è®¡å›¢é˜Ÿ

---

## ä¸€ã€æ•´ä½“ä¿¡æ¯æ¶æ„

### 1.1 ç³»ç»Ÿä¿¡æ¯æ¶æ„å±‚çº§

```
å¾®ä¿¡å°ç¨‹åºæ‚£è€…æ¡£æ¡ˆç®¡ç†ç³»ç»Ÿ
â”‚
â”œâ”€â”€ L0 åº”ç”¨å±‚ (Application Layer)
â”‚   â”œâ”€â”€ åº”ç”¨é…ç½® (App Config)
â”‚   â”œâ”€â”€ å…¨å±€çŠ¶æ€ç®¡ç† (Global State)
â”‚   â””â”€â”€ æƒé™æ§åˆ¶ (Permission Control)
â”‚
â”œâ”€â”€ L1 ä¸»åŠŸèƒ½æ¨¡å— (Primary Modules)
â”‚   â”œâ”€â”€ ğŸ“Š é¦–é¡µæ¦‚è§ˆ (Dashboard)
â”‚   â”œâ”€â”€ ğŸ‘¥ æ‚£è€…æ¡£æ¡ˆ (Patient Records)
â”‚   â”œâ”€â”€ â• å…¥ä½ç®¡ç† (Admission Management)
â”‚   â”œâ”€â”€ ğŸ“ˆ æ•°æ®åˆ†æ (Analytics)
â”‚   â””â”€â”€ ğŸ‘¤ ä¸ªäººä¸­å¿ƒ (Personal Center)
â”‚
â”œâ”€â”€ L2 å­åŠŸèƒ½æ¨¡å— (Secondary Modules)
â”‚   â”œâ”€â”€ æœç´¢åŠŸèƒ½ (Search)
â”‚   â”œâ”€â”€ é€šçŸ¥æ¶ˆæ¯ (Notifications)
â”‚   â”œâ”€â”€ æ–‡ä»¶ç®¡ç† (File Management)
â”‚   â””â”€â”€ ç³»ç»Ÿè®¾ç½® (System Settings)
â”‚
â””â”€â”€ L3 è¾…åŠ©åŠŸèƒ½ (Supporting Features)
    â”œâ”€â”€ å¸®åŠ©ä¸­å¿ƒ (Help Center)
    â”œâ”€â”€ æ„è§åé¦ˆ (Feedback)
    â””â”€â”€ å…³äºæˆ‘ä»¬ (About Us)
```

### 1.2 ä¿¡æ¯åˆ†ç±»ä½“ç³»

#### æ ¸å¿ƒæ•°æ®å®ä½“

```
æ‚£è€…ä¿¡æ¯ (Patient Information)
â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯ (Basic Info)
â”‚   â”œâ”€â”€ ä¸ªäººèº«ä»½ä¿¡æ¯ (Personal Identity)
â”‚   â”œâ”€â”€ è”ç³»æ–¹å¼ (Contact Info)
â”‚   â””â”€â”€ ç´§æ€¥è”ç³»äºº (Emergency Contact)
â”œâ”€â”€ åŒ»ç–—ä¿¡æ¯ (Medical Info)
â”‚   â”œâ”€â”€ è¯Šæ–­ä¿¡æ¯ (Diagnosis)
â”‚   â”œâ”€â”€ æ²»ç–—è®°å½• (Treatment Records)
â”‚   â””â”€â”€ ç”¨è¯ä¿¡æ¯ (Medication)
â”œâ”€â”€ å…¥ä½ä¿¡æ¯ (Admission Info)
â”‚   â”œâ”€â”€ å…¥ä½è®°å½• (Admission Records)
â”‚   â”œâ”€â”€ ä½å®¿ä¿¡æ¯ (Accommodation)
â”‚   â””â”€â”€ æœåŠ¡è®°å½• (Service Records)
â””â”€â”€ é™„ä»¶èµ„æ–™ (Documents)
    â”œâ”€â”€ åŒ»ç–—æ–‡æ¡£ (Medical Documents)
    â”œâ”€â”€ èº«ä»½è¯æ˜ (ID Documents)
    â””â”€â”€ å…¶ä»–èµ„æ–™ (Other Files)
```

#### ä¸šåŠ¡æµç¨‹åˆ†ç±»

```
ä¸šåŠ¡æµç¨‹ (Business Processes)
â”œâ”€â”€ å…¥ä½æµç¨‹ (Admission Process)
â”‚   â”œâ”€â”€ é¢„çº¦ç”³è¯· (Application)
â”‚   â”œâ”€â”€ èµ„æ ¼å®¡æ ¸ (Eligibility Review)
â”‚   â”œâ”€â”€ ä¿¡æ¯å½•å…¥ (Data Entry)
â”‚   â””â”€â”€ å…¥ä½ç¡®è®¤ (Confirmation)
â”œâ”€â”€ æ—¥å¸¸ç®¡ç† (Daily Management)
â”‚   â”œâ”€â”€ ä¿¡æ¯æ›´æ–° (Information Update)
â”‚   â”œâ”€â”€ æœåŠ¡è®°å½• (Service Logging)
â”‚   â””â”€â”€ çŠ¶æ€è·Ÿè¸ª (Status Tracking)
â””â”€â”€ æ•°æ®åˆ†æ (Data Analysis)
    â”œâ”€â”€ ç»Ÿè®¡æŠ¥å‘Š (Statistical Reports)
    â”œâ”€â”€ è¶‹åŠ¿åˆ†æ (Trend Analysis)
    â””â”€â”€ æ•°æ®å¯¼å‡º (Data Export)
```

---

## äºŒã€é¡µé¢å±‚çº§æ¶æ„

### 2.1 ä¸»å¯¼èˆªæ¶æ„

```
åº•éƒ¨å¯¼èˆªæ  (Tab Bar Navigation)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ é¦–é¡µ   ğŸ‘¥æ‚£è€…   â•å…¥ä½   ğŸ“Šåˆ†æ   ğŸ‘¤æˆ‘çš„  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¯¼èˆªå±‚çº§å®šä¹‰

| å¯¼èˆªé¡¹  | åŠŸèƒ½æè¿°           | ç”¨æˆ·è§’è‰²    | ä½¿ç”¨é¢‘ç‡ |
| ------- | ------------------ | ----------- | -------- |
| ğŸ  é¦–é¡µ | æ•°æ®æ¦‚è§ˆã€å¿«æ·æ“ä½œ | æ‰€æœ‰ç”¨æˆ·    | æé«˜     |
| ğŸ‘¥ æ‚£è€… | æ‚£è€…æ¡£æ¡ˆç®¡ç†       | æ‰€æœ‰ç”¨æˆ·    | æé«˜     |
| â• å…¥ä½ | æ–°æ‚£è€…å…¥ä½æµç¨‹     | ç®¡ç†å‘˜/æŠ¤å£« | é«˜       |
| ğŸ“Š åˆ†æ | æ•°æ®ç»Ÿè®¡åˆ†æ       | ç®¡ç†å‘˜      | ä¸­       |
| ğŸ‘¤ æˆ‘çš„ | ä¸ªäººè®¾ç½®ã€å¸®åŠ©     | æ‰€æœ‰ç”¨æˆ·    | ä½       |

### 2.2 é¡µé¢å±‚çº§ç»“æ„

#### 2.2.1 é¦–é¡µæ¨¡å— (Dashboard)

```
ğŸ  é¦–é¡µ (L1)
â”œâ”€â”€ ğŸ“‹ ä»Šæ—¥æ¦‚è§ˆ (L2)
â”‚   â”œâ”€â”€ åœ¨ä½äººæ•°ç»Ÿè®¡
â”‚   â”œâ”€â”€ ä»Šæ—¥å…¥ä½æ•°é‡
â”‚   â”œâ”€â”€ å¾…å¤„ç†äº‹é¡¹æé†’
â”‚   â””â”€â”€ åºŠä½ä½¿ç”¨æƒ…å†µ
â”œâ”€â”€ âš¡ å¿«æ·æ“ä½œ (L2)
â”‚   â”œâ”€â”€ æ–°æ‚£è€…å…¥ä½
â”‚   â”œâ”€â”€ æŸ¥æ‰¾æ‚£è€…
â”‚   â”œâ”€â”€ æ‰«ç æŸ¥çœ‹
â”‚   â””â”€â”€ ç´§æ€¥è”ç³»
â”œâ”€â”€ ğŸ“ˆ æ•°æ®å¡ç‰‡ (L2)
â”‚   â”œâ”€â”€ æœ¬æœˆå…¥ä½ç»Ÿè®¡
â”‚   â”œâ”€â”€ å¹³å‡ä½é™¢æ—¶é•¿
â”‚   â”œâ”€â”€ æœåŠ¡æ»¡æ„åº¦
â”‚   â””â”€â”€ èµ„æºåˆ©ç”¨ç‡
â””â”€â”€ ğŸ“° æœ€æ–°åŠ¨æ€ (L2)
    â”œâ”€â”€ æœ€æ–°å…¥ä½æ‚£è€…
    â”œâ”€â”€ å³å°†å‡ºé™¢æé†’
    â”œâ”€â”€ ç³»ç»Ÿé€šçŸ¥æ¶ˆæ¯
    â””â”€â”€ é‡è¦äº‹é¡¹æé†’
```

#### 2.2.2 æ‚£è€…æ¡£æ¡ˆæ¨¡å— (Patient Records)

```
ğŸ‘¥ æ‚£è€…æ¡£æ¡ˆ (L1)
â”œâ”€â”€ ğŸ” æœç´¢ç­›é€‰ (L2)
â”‚   â”œâ”€â”€ æœç´¢æ¡† (å…³é”®è¯æœç´¢)
â”‚   â”œâ”€â”€ ç­›é€‰å™¨ (çŠ¶æ€ã€å¹´é¾„ã€æ€§åˆ«)
â”‚   â”œâ”€â”€ æ’åºé€‰é¡¹ (å…¥ä½æ—¶é—´ã€å§“åã€å¹´é¾„)
â”‚   â””â”€â”€ é«˜çº§æœç´¢ (å¤šæ¡ä»¶ç»„åˆ)
â”œâ”€â”€ ğŸ“‹ æ‚£è€…åˆ—è¡¨ (L2)
â”‚   â”œâ”€â”€ æ‚£è€…å¡ç‰‡è§†å›¾
â”‚   â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯å±•ç¤º
â”‚   â”‚   â”œâ”€â”€ çŠ¶æ€æ ‡è¯†
â”‚   â”‚   â”œâ”€â”€ å¿«æ·æ“ä½œæŒ‰é’®
â”‚   â”‚   â””â”€â”€ å…³é”®ä¿¡æ¯é¢„è§ˆ
â”‚   â”œâ”€â”€ åˆ—è¡¨è§†å›¾é€‰é¡¹
â”‚   â”œâ”€â”€ æ‰¹é‡æ“ä½œåŠŸèƒ½
â”‚   â””â”€â”€ åˆ†é¡µåŠ è½½
â””â”€â”€ ğŸ‘¤ æ‚£è€…è¯¦æƒ… (L2)
    â”œâ”€â”€ ğŸ·ï¸ åŸºæœ¬ä¿¡æ¯ (L3)
    â”‚   â”œâ”€â”€ ä¸ªäººèº«ä»½ä¿¡æ¯
    â”‚   â”œâ”€â”€ è”ç³»æ–¹å¼ä¿¡æ¯
    â”‚   â”œâ”€â”€ ç´§æ€¥è”ç³»äºº
    â”‚   â””â”€â”€ å¿«æ·ç¼–è¾‘åŠŸèƒ½
    â”œâ”€â”€ ğŸ¥ åŒ»ç–—ä¿¡æ¯ (L3)
    â”‚   â”œâ”€â”€ è¯Šæ–­ä¿¡æ¯
    â”‚   â”œâ”€â”€ æ²»ç–—æ–¹æ¡ˆ
    â”‚   â”œâ”€â”€ ç”¨è¯è®°å½•
    â”‚   â””â”€â”€ åŒ»ç–—å›¢é˜Ÿ
    â”œâ”€â”€ ğŸ  å…¥ä½è®°å½• (L3)
    â”‚   â”œâ”€â”€ å…¥ä½å†å²åˆ—è¡¨
    â”‚   â”œâ”€â”€ ä½å®¿æˆ¿é—´ä¿¡æ¯
    â”‚   â”œâ”€â”€ æœåŠ¡è®°å½•æ—¶é—´è½´
    â”‚   â””â”€â”€ è´¹ç”¨ç»“ç®—ä¿¡æ¯
    â”œâ”€â”€ ğŸ“ é™„ä»¶èµ„æ–™ (L3)
    â”‚   â”œâ”€â”€ åŒ»ç–—æ–‡æ¡£
    â”‚   â”œâ”€â”€ èº«ä»½è¯æ˜
    â”‚   â”œâ”€â”€ ç…§ç‰‡èµ„æ–™
    â”‚   â””â”€â”€ å…¶ä»–æ–‡ä»¶
    â””â”€â”€ âš™ï¸ æ“ä½œè®°å½• (L3)
        â”œâ”€â”€ ç¼–è¾‘å†å²
        â”œâ”€â”€ æ“ä½œæ—¥å¿—
        â””â”€â”€ æƒé™è®°å½•
```

#### 2.2.3 å…¥ä½ç®¡ç†æ¨¡å— (Admission Management)

```
â• å…¥ä½ç®¡ç† (L1)
â”œâ”€â”€ ğŸš€ å¿«é€Ÿå…¥ä½ (L2) - å·²æœ‰æ‚£è€…
â”‚   â”œâ”€â”€ æ‚£è€…é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ æœç´¢ç°æœ‰æ‚£è€…
â”‚   â”‚   â”œâ”€â”€ æ‚£è€…ä¿¡æ¯é¢„è§ˆ
â”‚   â”‚   â””â”€â”€ ç¡®è®¤é€‰æ‹©
â”‚   â”œâ”€â”€ å…¥ä½ä¿¡æ¯å½•å…¥
â”‚   â”‚   â”œâ”€â”€ å…¥ä½æ—¥æœŸé€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ æˆ¿é—´åˆ†é…
â”‚   â”‚   â”œâ”€â”€ é™ªæŠ¤äººå‘˜ä¿¡æ¯
â”‚   â”‚   â””â”€â”€ ç‰¹æ®Šéœ€æ±‚è¯´æ˜
â”‚   â””â”€â”€ ç¡®è®¤æäº¤
â”‚       â”œâ”€â”€ ä¿¡æ¯ç¡®è®¤é¡µé¢
â”‚       â”œâ”€â”€ æäº¤å¤„ç†
â”‚       â””â”€â”€ æˆåŠŸåé¦ˆ
â”œâ”€â”€ ğŸ“ æ–°å»ºæ¡£æ¡ˆ (L2) - æ–°æ‚£è€…
â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯ (L3)
â”‚   â”‚   â”œâ”€â”€ ä¸ªäººèº«ä»½ä¿¡æ¯å½•å…¥
â”‚   â”‚   â”œâ”€â”€ è”ç³»æ–¹å¼å½•å…¥
â”‚   â”‚   â”œâ”€â”€ ç´§æ€¥è”ç³»äººå½•å…¥
â”‚   â”‚   â””â”€â”€ å®æ—¶æ•°æ®éªŒè¯
â”‚   â”œâ”€â”€ åŒ»ç–—ä¿¡æ¯ (L3)
â”‚   â”‚   â”œâ”€â”€ è¯Šæ–­ä¿¡æ¯å½•å…¥
â”‚   â”‚   â”œâ”€â”€ æ²»ç–—æ–¹æ¡ˆå½•å…¥
â”‚   â”‚   â”œâ”€â”€ ç”¨è¯ä¿¡æ¯å½•å…¥
â”‚   â”‚   â””â”€â”€ åŒ»ç–—å›¢é˜ŸæŒ‡å®š
â”‚   â”œâ”€â”€ é™„ä»¶ä¸Šä¼  (L3)
â”‚   â”‚   â”œâ”€â”€ åŒ»ç–—æ–‡æ¡£ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ èº«ä»½è¯æ˜ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ ç…§ç‰‡ä¸Šä¼ 
â”‚   â”‚   â””â”€â”€ æ–‡ä»¶ç®¡ç†
â”‚   â”œâ”€â”€ å…¥ä½å®‰æ’ (L3)
â”‚   â”‚   â”œâ”€â”€ æˆ¿é—´é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ åºŠä½åˆ†é…
â”‚   â”‚   â”œâ”€â”€ æœåŠ¡é¡¹ç›®é€‰æ‹©
â”‚   â”‚   â””â”€â”€ è´¹ç”¨é¢„ä¼°
â”‚   â””â”€â”€ ç¡®è®¤å®Œæˆ (L3)
â”‚       â”œâ”€â”€ ä¿¡æ¯æ±‡æ€»ç¡®è®¤
â”‚       â”œâ”€â”€ æ•°å­—ç­¾å
â”‚       â”œâ”€â”€ åè®®ç¡®è®¤
â”‚       â””â”€â”€ æˆåŠŸé¡µé¢
â””â”€â”€ ğŸ“Š å…¥ä½ç»Ÿè®¡ (L2)
    â”œâ”€â”€ å…¥ä½è¶‹åŠ¿å›¾è¡¨
    â”œâ”€â”€ æˆ¿é—´å ç”¨æƒ…å†µ
    â”œâ”€â”€ å…¥ä½æ¥æºåˆ†æ
    â””â”€â”€ å¹³å‡ä½é™¢æ—¶é•¿
```

#### 2.2.4 æ•°æ®åˆ†ææ¨¡å— (Analytics)

```
ğŸ“Š æ•°æ®åˆ†æ (L1)
â”œâ”€â”€ ğŸ“ˆ æ¦‚è§ˆç»Ÿè®¡ (L2)
â”‚   â”œâ”€â”€ å…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ æ€»æ‚£è€…æ•°é‡
â”‚   â”‚   â”œâ”€â”€ åœ¨ä½æ‚£è€…æ•°
â”‚   â”‚   â”œâ”€â”€ æœ¬æœˆæ–°å¢
â”‚   â”‚   â””â”€â”€ åºŠä½ä½¿ç”¨ç‡
â”‚   â”œâ”€â”€ è¶‹åŠ¿å›¾è¡¨
â”‚   â”‚   â”œâ”€â”€ å…¥ä½è¶‹åŠ¿
â”‚   â”‚   â”œâ”€â”€ å‡ºé™¢è¶‹åŠ¿
â”‚   â”‚   â”œâ”€â”€ å¹³å‡ä½é™¢æ—¶é•¿
â”‚   â”‚   â””â”€â”€ æ»¡æ„åº¦å˜åŒ–
â”‚   â””â”€â”€ å¯¹æ¯”åˆ†æ
â”‚       â”œâ”€â”€ åŒæ¯”åˆ†æ
â”‚       â”œâ”€â”€ ç¯æ¯”åˆ†æ
â”‚       â””â”€â”€ ç›®æ ‡è¾¾æˆç‡
â”œâ”€â”€ ğŸ‘¥ æ‚£è€…åˆ†æ (L2)
â”‚   â”œâ”€â”€ äººå£ç»Ÿè®¡å­¦åˆ†æ
â”‚   â”‚   â”œâ”€â”€ å¹´é¾„åˆ†å¸ƒ
â”‚   â”‚   â”œâ”€â”€ æ€§åˆ«æ¯”ä¾‹
â”‚   â”‚   â”œâ”€â”€ åœ°åŒºåˆ†å¸ƒ
â”‚   â”‚   â””â”€â”€ ç–¾ç—…ç±»å‹åˆ†å¸ƒ
â”‚   â”œâ”€â”€ æœåŠ¡åˆ†æ
â”‚   â”‚   â”œâ”€â”€ æœåŠ¡ä½¿ç”¨æƒ…å†µ
â”‚   â”‚   â”œâ”€â”€ æ»¡æ„åº¦åˆ†æ
â”‚   â”‚   â”œâ”€â”€ æŠ•è¯‰å»ºè®®ç»Ÿè®¡
â”‚   â”‚   â””â”€â”€ æœåŠ¡æ•ˆæœè¯„ä¼°
â”‚   â””â”€â”€ è´¹ç”¨åˆ†æ
â”‚       â”œâ”€â”€ è´¹ç”¨ç»“æ„åˆ†æ
â”‚       â”œâ”€â”€ å¹³å‡è´¹ç”¨è¶‹åŠ¿
â”‚       â””â”€â”€ æ”¯ä»˜æ–¹å¼åˆ†å¸ƒ
â”œâ”€â”€ ğŸ¥ è¿è¥åˆ†æ (L2)
â”‚   â”œâ”€â”€ èµ„æºåˆ©ç”¨åˆ†æ
â”‚   â”‚   â”œâ”€â”€ åºŠä½ä½¿ç”¨ç‡
â”‚   â”‚   â”œâ”€â”€ æˆ¿é—´å‘¨è½¬ç‡
â”‚   â”‚   â”œâ”€â”€ è®¾å¤‡ä½¿ç”¨æƒ…å†µ
â”‚   â”‚   â””â”€â”€ äººå‘˜å·¥ä½œé‡
â”‚   â”œâ”€â”€ æ•ˆç‡åˆ†æ
â”‚   â”‚   â”œâ”€â”€ å…¥ä½æµç¨‹è€—æ—¶
â”‚   â”‚   â”œâ”€â”€ ä¿¡æ¯å½•å…¥æ•ˆç‡
â”‚   â”‚   â”œâ”€â”€ å“åº”æ—¶é—´åˆ†æ
â”‚   â”‚   â””â”€â”€ é”™è¯¯ç‡ç»Ÿè®¡
â”‚   â””â”€â”€ æˆæœ¬åˆ†æ
â”‚       â”œâ”€â”€ è¿è¥æˆæœ¬åˆ†å¸ƒ
â”‚       â”œâ”€â”€ äººå‘˜æˆæœ¬åˆ†æ
â”‚       â””â”€â”€ è®¾æ–½ç»´æŠ¤æˆæœ¬
â””â”€â”€ ğŸ“‹ æŠ¥å‘Šå¯¼å‡º (L2)
    â”œâ”€â”€ é¢„å®šä¹‰æŠ¥å‘Šæ¨¡æ¿
    â”œâ”€â”€ è‡ªå®šä¹‰æŠ¥å‘Šç”Ÿæˆ
    â”œâ”€â”€ æ•°æ®å¯¼å‡ºåŠŸèƒ½
    â””â”€â”€ æŠ¥å‘Šåˆ†äº«åŠŸèƒ½
```

#### 2.2.5 ä¸ªäººä¸­å¿ƒæ¨¡å— (Personal Center)

```
ğŸ‘¤ ä¸ªäººä¸­å¿ƒ (L1)
â”œâ”€â”€ ğŸ‘¨â€ğŸ’¼ ä¸ªäººä¿¡æ¯ (L2)
â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯å±•ç¤º
â”‚   â”œâ”€â”€ è§’è‰²æƒé™ä¿¡æ¯
â”‚   â”œâ”€â”€ å·¥ä½œç»Ÿè®¡
â”‚   â””â”€â”€ ä¸ªäººè®¾ç½®
â”œâ”€â”€ âš™ï¸ ç³»ç»Ÿè®¾ç½® (L2)
â”‚   â”œâ”€â”€ é€šçŸ¥è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ æ¶ˆæ¯æ¨é€å¼€å…³
â”‚   â”‚   â”œâ”€â”€ æé†’æ—¶é—´è®¾ç½®
â”‚   â”‚   â””â”€â”€ æ¶ˆæ¯ç±»å‹é€‰æ‹©
â”‚   â”œâ”€â”€ ç•Œé¢è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ ä¸»é¢˜æ¨¡å¼é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ å­—ä½“å¤§å°è°ƒèŠ‚
â”‚   â”‚   â””â”€â”€ è¯­è¨€è®¾ç½®
â”‚   â”œâ”€â”€ éšç§è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ æ•°æ®æƒé™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ è®¿é—®è®°å½•æŸ¥çœ‹
â”‚   â”‚   â””â”€â”€ éšç§ä¿æŠ¤é€‰é¡¹
â”‚   â””â”€â”€ å®‰å…¨è®¾ç½®
â”‚       â”œâ”€â”€ å¯†ç ä¿®æ”¹
â”‚       â”œâ”€â”€ ç™»å½•è®¾å¤‡ç®¡ç†
â”‚       â””â”€â”€ æ“ä½œæƒé™è®¾ç½®
â”œâ”€â”€ ğŸ“š å¸®åŠ©ä¸­å¿ƒ (L2)
â”‚   â”œâ”€â”€ ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ å¿«é€Ÿå…¥é—¨
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½ä»‹ç»
â”‚   â”‚   â”œâ”€â”€ æ“ä½œè§†é¢‘
â”‚   â”‚   â””â”€â”€ å¸¸è§é—®é¢˜
â”‚   â”œâ”€â”€ è”ç³»æ”¯æŒ
â”‚   â”‚   â”œâ”€â”€ åœ¨çº¿å®¢æœ
â”‚   â”‚   â”œâ”€â”€ æŠ€æœ¯æ”¯æŒ
â”‚   â”‚   â”œâ”€â”€ æ„è§åé¦ˆ
â”‚   â”‚   â””â”€â”€ é—®é¢˜æŠ¥å‘Š
â”‚   â””â”€â”€ ç³»ç»Ÿä¿¡æ¯
â”‚       â”œâ”€â”€ ç‰ˆæœ¬ä¿¡æ¯
â”‚       â”œâ”€â”€ æ›´æ–°æ—¥å¿—
â”‚       â”œâ”€â”€ æœåŠ¡æ¡æ¬¾
â”‚       â””â”€â”€ éšç§æ”¿ç­–
â””â”€â”€ ğŸ” è´¦æˆ·ç®¡ç† (L2)
    â”œâ”€â”€ ç™»å½•å†å²
    â”œâ”€â”€ æƒé™ç”³è¯·
    â”œâ”€â”€ æ•°æ®å¤‡ä»½
    â””â”€â”€ è´¦æˆ·æ³¨é”€
```

---

## ä¸‰ã€å¯¼èˆªä½“ç³»è®¾è®¡

### 3.1 ä¸»å¯¼èˆªç³»ç»Ÿ

#### åº•éƒ¨Tabå¯¼èˆª (Primary Navigation)

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ ğŸ   â”‚ ğŸ‘¥  â”‚ â•  â”‚ ğŸ“Š  â”‚ ğŸ‘¤  â”‚
â”‚é¦–é¡µ â”‚æ‚£è€… â”‚å…¥ä½ â”‚åˆ†æ â”‚æˆ‘çš„ â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

**è®¾è®¡åŸåˆ™**:

- **5+2åŸåˆ™**: 5ä¸ªä¸»è¦åŠŸèƒ½ + æœç´¢å’Œé€šçŸ¥2ä¸ªè¾…åŠ©åŠŸèƒ½
- **é«˜é¢‘å‰ç½®**: æœ€å¸¸ç”¨åŠŸèƒ½ä½äºå·¦ä¾§
- **è§’è‰²åŒºåˆ†**: ä¸åŒè§’è‰²çœ‹åˆ°ä¸åŒçš„å¯¼èˆªé€‰é¡¹
- **çŠ¶æ€æŒ‡ç¤º**: é€šè¿‡è§’æ ‡æ˜¾ç¤ºæœªè¯»æ¶ˆæ¯å’Œå¾…å¤„ç†äº‹é¡¹

#### å¯¼èˆªçŠ¶æ€ç®¡ç†

```javascript
// å¯¼èˆªçŠ¶æ€é…ç½®
const navigationConfig = {
  tabs: [
    {
      name: 'dashboard',
      title: 'é¦–é¡µ',
      icon: 'ğŸ ',
      roles: ['all'],
      badge: () => getPendingTasksCount(),
    },
    {
      name: 'patients',
      title: 'æ‚£è€…',
      icon: 'ğŸ‘¥',
      roles: ['all'],
      badge: () => getNewPatientsCount(),
    },
    {
      name: 'admission',
      title: 'å…¥ä½',
      icon: 'â•',
      roles: ['admin', 'nurse'],
      badge: () => getPendingAdmissionsCount(),
    },
    {
      name: 'analytics',
      title: 'åˆ†æ',
      icon: 'ğŸ“Š',
      roles: ['admin', 'manager'],
      badge: null,
    },
    {
      name: 'profile',
      title: 'æˆ‘çš„',
      icon: 'ğŸ‘¤',
      roles: ['all'],
      badge: null,
    },
  ],
};
```

### 3.2 æ¬¡çº§å¯¼èˆªç³»ç»Ÿ

#### é¡¶éƒ¨å¯¼èˆªæ  (Secondary Navigation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›  â”‚    é¡µé¢æ ‡é¢˜    â”‚  ğŸ”æœç´¢  âš™ï¸è®¾ç½®  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶æ„æˆ**:

- **è¿”å›æŒ‰é’®**: å±‚çº§å¯¼èˆªè¿”å›
- **é¡µé¢æ ‡é¢˜**: å½“å‰é¡µé¢åç§°
- **æœç´¢å…¥å£**: å…¨å±€/å±€éƒ¨æœç´¢
- **åŠŸèƒ½æŒ‰é’®**: é¡µé¢ç›¸å…³æ“ä½œ(ç­›é€‰ã€æ’åºã€è®¾ç½®ç­‰)

#### é¢åŒ…å±‘å¯¼èˆª (Breadcrumb Navigation)

```
é¦–é¡µ > æ‚£è€…æ¡£æ¡ˆ > å¼ å°æ˜
é¦–é¡µ > å…¥ä½ç®¡ç† > æ–°å»ºæ¡£æ¡ˆ > åŸºæœ¬ä¿¡æ¯
é¦–é¡µ > æ•°æ®åˆ†æ > æ‚£è€…åˆ†æ > å¹´é¾„åˆ†å¸ƒ
```

**ä½¿ç”¨åœºæ™¯**:

- æ·±å±‚çº§é¡µé¢å¯¼èˆª
- å¤æ‚æµç¨‹ä¸­çš„ä½ç½®æŒ‡ç¤º
- å¿«é€Ÿè¿”å›ä¸Šçº§é¡µé¢

### 3.3 æ“ä½œå¯¼èˆªç³»ç»Ÿ

#### æµ®åŠ¨æ“ä½œæŒ‰é’® (FAB)

```
é¡µé¢å³ä¸‹è§’: â• å¿«é€Ÿæ“ä½œ
â”œâ”€â”€ æ–°å¢æ‚£è€…
â”œâ”€â”€ å¿«é€Ÿå…¥ä½
â””â”€â”€ ç´§æ€¥è”ç³»
```

#### ä¸Šä¸‹æ–‡èœå• (Context Menu)

```
é•¿æŒ‰æ‚£è€…å¡ç‰‡:
â”œâ”€â”€ æŸ¥çœ‹è¯¦æƒ…
â”œâ”€â”€ ç¼–è¾‘ä¿¡æ¯
â”œâ”€â”€ è”ç³»å®¶å±
â”œâ”€â”€ æ ‡è®°é‡è¦
â””â”€â”€ å½’æ¡£æ‚£è€…
```

#### æ‰‹åŠ¿å¯¼èˆª

- **å·¦å³æ»‘åŠ¨**: åˆ‡æ¢Tabé¡µé¢
- **ä¸‹æ‹‰åˆ·æ–°**: æ›´æ–°é¡µé¢æ•°æ®
- **ä¸Šæ‹‰åŠ è½½**: åŠ è½½æ›´å¤šå†…å®¹
- **é•¿æŒ‰**: æ¿€æ´»ä¸Šä¸‹æ–‡èœå•

---

## å››ã€ä¿¡æ¯å±‚çº§è®¾è®¡

### 4.1 ä¿¡æ¯ä¼˜å…ˆçº§çŸ©é˜µ

#### é¦–é¡µä¿¡æ¯å±‚çº§

```
L1 - å…³é”®ä¿¡æ¯ (ç«‹å³å¯è§)
â”œâ”€â”€ å½“å‰åœ¨ä½äººæ•°
â”œâ”€â”€ ä»Šæ—¥æ–°å¢å…¥ä½
â”œâ”€â”€ ç´§æ€¥å¾…å¤„ç†äº‹é¡¹
â””â”€â”€ åºŠä½ä½¿ç”¨çŠ¶æ€

L2 - é‡è¦ä¿¡æ¯ (é¦–å±ä¸‹æ–¹)
â”œâ”€â”€ æœ¬å‘¨/æœ¬æœˆç»Ÿè®¡
â”œâ”€â”€ å³å°†åˆ°æœŸæé†’
â”œâ”€â”€ èµ„æºåˆ©ç”¨æƒ…å†µ
â””â”€â”€ å¿«æ·æ“ä½œå…¥å£

L3 - è¾…åŠ©ä¿¡æ¯ (éœ€è¦æ»šåŠ¨)
â”œâ”€â”€ å†å²è¶‹åŠ¿å›¾è¡¨
â”œâ”€â”€ æœ€æ–°åŠ¨æ€åˆ—è¡¨
â”œâ”€â”€ ç³»ç»Ÿé€šçŸ¥æ¶ˆæ¯
â””â”€â”€ å¸®åŠ©å¿«æ·é“¾æ¥
```

#### æ‚£è€…åˆ—è¡¨ä¿¡æ¯å±‚çº§

```
L1 - æ ¸å¿ƒä¿¡æ¯ (å¡ç‰‡ä¸»ä½“)
â”œâ”€â”€ æ‚£è€…å§“å (æœ€å¤§å­—å·)
â”œâ”€â”€ å¹´é¾„æ€§åˆ« (æ¬¡è¦ä¿¡æ¯)
â”œâ”€â”€ å…¥ä½çŠ¶æ€ (çŠ¶æ€æ ‡è¯†)
â””â”€â”€ å…¥ä½æ—¶é—´ (æ—¶é—´ä¿¡æ¯)

L2 - å…³é”®ä¿¡æ¯ (å¡ç‰‡æ¬¡è¦åŒºåŸŸ)
â”œâ”€â”€ ä¸»è¦è¯Šæ–­
â”œâ”€â”€ åºŠä½å·ç 
â”œâ”€â”€ é™ªæŠ¤ä¿¡æ¯
â””â”€â”€ è”ç³»æ–¹å¼

L3 - è¯¦ç»†ä¿¡æ¯ (ç‚¹å‡»å±•å¼€)
â”œâ”€â”€ å®Œæ•´åŒ»ç–—ä¿¡æ¯
â”œâ”€â”€ è¯¦ç»†è”ç³»ä¿¡æ¯
â”œâ”€â”€ å…¥ä½å†å²è®°å½•
â””â”€â”€ é™„ä»¶æ–‡æ¡£åˆ—è¡¨
```

#### æ‚£è€…è¯¦æƒ…ä¿¡æ¯å±‚çº§

```
L1 - åŸºç¡€ä¿¡æ¯å¤´éƒ¨ (å›ºå®šæ˜¾ç¤º)
â”œâ”€â”€ æ‚£è€…ç…§ç‰‡/å¤´åƒ
â”œâ”€â”€ å§“åå’ŒåŸºæœ¬ä¿¡æ¯
â”œâ”€â”€ å½“å‰çŠ¶æ€æ ‡è¯†
â””â”€â”€ æ ¸å¿ƒè”ç³»æ–¹å¼

L2 - ä¸»è¦ä¿¡æ¯æ¨¡å— (Tabåˆ‡æ¢)
â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯ Tab
â”œâ”€â”€ åŒ»ç–—ä¿¡æ¯ Tab
â”œâ”€â”€ å…¥ä½è®°å½• Tab
â””â”€â”€ é™„ä»¶èµ„æ–™ Tab

L3 - è¯¦ç»†å†…å®¹ (æ¨¡å—å†…éƒ¨)
â”œâ”€â”€ å…·ä½“å­—æ®µä¿¡æ¯
â”œâ”€â”€ å†å²è®°å½•åˆ—è¡¨
â”œâ”€â”€ ç›¸å…³æ–‡æ¡£é“¾æ¥
â””â”€â”€ æ“ä½œæŒ‰é’®ç»„
```

### 4.2 ä¿¡æ¯å¯†åº¦æ§åˆ¶

#### ä¿¡æ¯å¯†åº¦ç­‰çº§

| ç­‰çº§   | ä¿¡æ¯é‡ | é€‚ç”¨åœºæ™¯   | è®¾è®¡åŸåˆ™           |
| ------ | ------ | ---------- | ------------------ |
| é«˜å¯†åº¦ | 8-12é¡¹ | ç®¡ç†å‘˜æ¦‚è§ˆ | ç´§å‡‘å¸ƒå±€ï¼Œå°å­—ä½“   |
| ä¸­å¯†åº¦ | 4-6é¡¹  | æ—¥å¸¸æ“ä½œ   | å¹³è¡¡å¸ƒå±€ï¼Œæ ‡å‡†å­—ä½“ |
| ä½å¯†åº¦ | 2-3é¡¹  | ç§»åŠ¨ç«¯é¦–é¡µ | å®½æ¾å¸ƒå±€ï¼Œå¤§å­—ä½“   |

#### å“åº”å¼ä¿¡æ¯å±‚çº§

```css
/* ä¸åŒå±å¹•å°ºå¯¸çš„ä¿¡æ¯æ˜¾ç¤ºç­–ç•¥ */
@media (max-width: 320px) {
  /* è¶…å°å±å¹•ï¼šåªæ˜¾ç¤ºL1ä¿¡æ¯ */
  .info-level-2,
  .info-level-3 {
    display: none;
  }
}

@media (min-width: 321px) and (max-width: 375px) {
  /* å°å±å¹•ï¼šæ˜¾ç¤ºL1+L2ä¿¡æ¯ */
  .info-level-3 {
    display: none;
  }
}

@media (min-width: 376px) {
  /* å¤§å±å¹•ï¼šæ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ */
  .info-level-1,
  .info-level-2,
  .info-level-3 {
    display: block;
  }
}
```

---

## äº”ã€å†…å®¹ç»„ç»‡ç­–ç•¥

### 5.1 å†…å®¹åˆ†ç±»ç³»ç»Ÿ

#### æŒ‰åŠŸèƒ½åˆ†ç±»

```
æ ¸å¿ƒåŠŸèƒ½å†…å®¹ (Core Content)
â”œâ”€â”€ æ‚£è€…åŸºç¡€æ•°æ®
â”œâ”€â”€ åŒ»ç–—å…³é”®ä¿¡æ¯
â”œâ”€â”€ å…¥ä½æ ¸å¿ƒæµç¨‹
â””â”€â”€ å…³é”®ç»Ÿè®¡æŒ‡æ ‡

æ”¯æŒåŠŸèƒ½å†…å®¹ (Supporting Content)
â”œâ”€â”€ ç³»ç»Ÿé…ç½®ä¿¡æ¯
â”œâ”€â”€ å¸®åŠ©æ–‡æ¡£å†…å®¹
â”œâ”€â”€ å†å²è®°å½•æ•°æ®
â””â”€â”€ é™„åŠ è¯´æ˜æ–‡æœ¬

ç®¡ç†åŠŸèƒ½å†…å®¹ (Administrative Content)
â”œâ”€â”€ ç”¨æˆ·æƒé™ä¿¡æ¯
â”œâ”€â”€ ç³»ç»Ÿæ—¥å¿—æ•°æ®
â”œâ”€â”€ å®¡è®¡è·Ÿè¸ªè®°å½•
â””â”€â”€ åˆè§„æ€§æ–‡æ¡£
```

#### æŒ‰ä½¿ç”¨é¢‘ç‡åˆ†ç±»

```
é«˜é¢‘å†…å®¹ (Daily Use - 80% æ—¶é—´)
â”œâ”€â”€ æ‚£è€…åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹
â”œâ”€â”€ å…¥ä½çŠ¶æ€æ›´æ–°
â”œâ”€â”€ è”ç³»æ–¹å¼æŸ¥è¯¢
â””â”€â”€ å¿«é€Ÿæœç´¢åŠŸèƒ½

ä¸­é¢‘å†…å®¹ (Weekly Use - 15% æ—¶é—´)
â”œâ”€â”€ æ–°æ‚£è€…æ¡£æ¡ˆåˆ›å»º
â”œâ”€â”€ è¯¦ç»†åŒ»ç–—ä¿¡æ¯å½•å…¥
â”œâ”€â”€ ç»Ÿè®¡æŠ¥å‘ŠæŸ¥çœ‹
â””â”€â”€ ç³»ç»Ÿè®¾ç½®è°ƒæ•´

ä½é¢‘å†…å®¹ (Monthly Use - 5% æ—¶é—´)
â”œâ”€â”€ æ•°æ®åˆ†ææ·±åº¦æŒ–æ˜
â”œâ”€â”€ ç³»ç»Ÿç®¡ç†åŠŸèƒ½
â”œâ”€â”€ å¸®åŠ©æ–‡æ¡£æŸ¥é˜…
â””â”€â”€ åé¦ˆé—®é¢˜æŠ¥å‘Š
```

### 5.2 å†…å®¹ä¼˜å…ˆçº§ç­–ç•¥

#### å†…å®¹é‡è¦æ€§è¯„ä¼°çŸ©é˜µ

| é‡è¦æ€§ | ç´§æ€¥æ€§ | æ˜¾ç¤ºç­–ç•¥           | äº¤äº’æ–¹å¼ |
| ------ | ------ | ------------------ | -------- |
| é«˜     | é«˜     | é¦–å±æ˜¾ç¤ºï¼Œçªå‡ºæ ·å¼ | ä¸€é”®ç›´è¾¾ |
| é«˜     | ä½     | é¦–å±æ˜¾ç¤ºï¼Œæ ‡å‡†æ ·å¼ | ç‚¹å‡»æŸ¥çœ‹ |
| ä½     | é«˜     | æŠ˜å æ˜¾ç¤ºï¼Œæé†’æ ‡è¯† | å±•å¼€æŸ¥çœ‹ |
| ä½     | ä½     | éšè—æ˜¾ç¤ºï¼Œå…¥å£ä¿ç•™ | å¤šçº§å¯¼èˆª |

#### åŠ¨æ€å†…å®¹ä¼˜å…ˆçº§

```javascript
// å†…å®¹ä¼˜å…ˆçº§åŠ¨æ€è®¡ç®—
const calculateContentPriority = content => {
  let priority = 0;

  // åŸºäºç”¨æˆ·è§’è‰²
  priority += getRolePriority(content.type, user.role);

  // åŸºäºä½¿ç”¨é¢‘ç‡
  priority += getUsageFrequency(content.id, user.id);

  // åŸºäºæ—¶é—´æ•æ„Ÿæ€§
  priority += getTimeSensitivity(content.timestamp);

  // åŸºäºä¸ªäººåå¥½
  priority += getPersonalPreference(content.category, user.preferences);

  return priority;
};
```

### 5.3 å†…å®¹å‘ˆç°æ¨¡å¼

#### å¡ç‰‡å¼å¸ƒå±€ (Card Layout)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ·ï¸ æ ‡é¢˜                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ“ ä¸»è¦å†…å®¹                â”‚
â”‚ ğŸ“Š å…³é”®æ•°æ®                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ”— æ“ä½œæŒ‰é’®   ğŸ“… æ—¶é—´æˆ³    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åˆ—è¡¨å¼å¸ƒå±€ (List Layout)

```
ğŸ‘¤ å§“å         ğŸ“ è”ç³»æ–¹å¼    ğŸ¥ çŠ¶æ€
ğŸ“… å…¥ä½æ—¶é—´     ğŸ  æˆ¿é—´å·      âš¡ æ“ä½œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‘¤ å§“å         ğŸ“ è”ç³»æ–¹å¼    ğŸ¥ çŠ¶æ€
ğŸ“… å…¥ä½æ—¶é—´     ğŸ  æˆ¿é—´å·      âš¡ æ“ä½œ
```

#### è¡¨æ ¼å¼å¸ƒå±€ (Table Layout)

```
| å§“å   | å¹´é¾„ | æ€§åˆ« | å…¥ä½æ—¶é—´   | çŠ¶æ€ | æ“ä½œ     |
|--------|------|------|------------|------|----------|
| å¼ å°æ˜ | 8å²  | ç”·   | 2024-01-15 | åœ¨ä½ | æŸ¥çœ‹ç¼–è¾‘ |
| æå°çº¢ | 6å²  | å¥³   | 2024-01-10 | åœ¨ä½ | æŸ¥çœ‹ç¼–è¾‘ |
```

#### æ—¶é—´è½´å¸ƒå±€ (Timeline Layout)

```
â­• 2024-01-15 å…¥ä½ç™»è®°
â”‚  â””â”€â”€ å®ŒæˆåŸºæœ¬ä¿¡æ¯å½•å…¥
â”‚
â­• 2024-01-16 åŒ»ç–—è¯„ä¼°
â”‚  â””â”€â”€ å®Œæˆå¥åº·çŠ¶å†µè¯„ä¼°
â”‚
â­• 2024-01-17 æ²»ç–—å¼€å§‹
â”‚  â””â”€â”€ å¼€å§‹åº·å¤æ²»ç–—è®¡åˆ’
```

---

## å…­ã€æœç´¢æ¶æ„è®¾è®¡

### 6.1 æœç´¢åŠŸèƒ½å±‚çº§

#### å…¨å±€æœç´¢ (Global Search)

```
æœç´¢èŒƒå›´: å…¨ç³»ç»Ÿå†…å®¹
â”œâ”€â”€ æ‚£è€…å§“åæœç´¢
â”œâ”€â”€ è”ç³»æ–¹å¼æœç´¢
â”œâ”€â”€ è¯Šæ–­ä¿¡æ¯æœç´¢
â”œâ”€â”€ æˆ¿é—´å·æœç´¢
â””â”€â”€ æ–‡æ¡£å†…å®¹æœç´¢

æœç´¢ç±»å‹:
â”œâ”€â”€ ç²¾ç¡®åŒ¹é…
â”œâ”€â”€ æ¨¡ç³ŠåŒ¹é…
â”œâ”€â”€ æ‹¼éŸ³æœç´¢
â””â”€â”€ åŒéŸ³å­—æœç´¢

æœç´¢ç»“æœå‘ˆç°:
â”œâ”€â”€ æŒ‰ç›¸å…³æ€§æ’åº
â”œâ”€â”€ æŒ‰æ—¶é—´æ’åº
â”œâ”€â”€ æŒ‰ç±»å‹åˆ†ç»„
â””â”€â”€ é«˜äº®å…³é”®è¯
```

#### å±€éƒ¨æœç´¢ (Local Search)

```
æ‚£è€…åˆ—è¡¨æœç´¢:
â”œâ”€â”€ å§“åæœç´¢
â”œâ”€â”€ å¹´é¾„èŒƒå›´ç­›é€‰
â”œâ”€â”€ æ€§åˆ«ç­›é€‰
â”œâ”€â”€ å…¥ä½çŠ¶æ€ç­›é€‰
â”œâ”€â”€ å…¥ä½æ—¶é—´èŒƒå›´
â””â”€â”€ è¯Šæ–­ç±»å‹ç­›é€‰

åŒ»ç–—ä¿¡æ¯æœç´¢:
â”œâ”€â”€ è¯Šæ–­å…³é”®è¯
â”œâ”€â”€ ç”¨è¯ä¿¡æ¯
â”œâ”€â”€ æ²»ç–—æ–¹æ¡ˆ
â””â”€â”€ åŒ»ç”Ÿå§“å

æ–‡æ¡£æœç´¢:
â”œâ”€â”€ æ–‡ä»¶åæœç´¢
â”œâ”€â”€ æ–‡ä»¶ç±»å‹ç­›é€‰
â”œâ”€â”€ ä¸Šä¼ æ—¶é—´ç­›é€‰
â””â”€â”€ æ–‡ä»¶å¤§å°ç­›é€‰
```

### 6.2 æœç´¢ä½“éªŒè®¾è®¡

#### æœç´¢è¾“å…¥ä½“éªŒ

```
æœç´¢æ¡†è®¾è®¡:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æœç´¢æ‚£è€…å§“åã€ç”µè¯ã€è¯Šæ–­...    Ã—  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“ (è¾“å…¥æ—¶)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” å¼                            Ã—   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¥ çƒ­é—¨æœç´¢                        â”‚
â”‚ ğŸ‘¤ å¼ å°æ˜ (ç™½è¡€ç—…, åœ¨ä½)           â”‚
â”‚ ğŸ‘¤ å¼ å°çº¢ (å¿ƒè„ç—…, å·²å‡ºé™¢)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š æœç´¢å†å²                        â”‚
â”‚ ğŸ‘¤ æå°å                          â”‚
â”‚ ğŸ‘¤ ç‹å°æ˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æœç´¢ç»“æœå±•ç¤º

```
æœç´¢ç»“æœé¡µé¢ç»“æ„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” "å¼ å°æ˜" çš„æœç´¢ç»“æœ (å…±3æ¡)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ æ‚£è€…æ¡£æ¡ˆ (2æ¡)                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ å¼ å°æ˜ 8å² ç”·               â”‚ â”‚
â”‚ â”‚ ğŸ¥ æ€¥æ€§ç™½è¡€ç—… åœ¨ä½             â”‚ â”‚
â”‚ â”‚ ğŸ“… 2024-01-15 å…¥ä½             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ å¼ å°æ˜å 10å² å¥³            â”‚ â”‚
â”‚ â”‚ ğŸ¥ å…ˆå¤©æ€§å¿ƒè„ç—… å·²å‡ºé™¢         â”‚ â”‚
â”‚ â”‚ ğŸ“… 2023-12-20 å‡ºé™¢             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ ç›¸å…³æ–‡æ¡£ (1æ¡)                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“‹ å¼ å°æ˜_å…¥ä½åè®®.pdf          â”‚ â”‚
â”‚ â”‚ ğŸ“… 2024-01-15 ä¸Šä¼              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 æ™ºèƒ½æœç´¢åŠŸèƒ½

#### æœç´¢å»ºè®®ä¸è”æƒ³

```javascript
// æœç´¢å»ºè®®ç®—æ³•
const generateSearchSuggestions = (query) => {
  return {
    autoComplete: getAutoCompleteResults(query),
    relatedPatients: getRelatedPatients(query),
    historicalSearches: getUserSearchHistory(query),
    popularSearches: getPopularSearches(query),
    smartSuggestions: getAISuggestions(query)
  };
};

// ç¤ºä¾‹è¾“å‡º
è¾“å…¥: "ç™½è¡€"
å»ºè®®:
â”œâ”€â”€ è‡ªåŠ¨è¡¥å…¨: "ç™½è¡€ç—…"
â”œâ”€â”€ ç›¸å…³æ‚£è€…: "å¼ å°æ˜(æ€¥æ€§ç™½è¡€ç—…)"
â”œâ”€â”€ å†å²æœç´¢: "ç™½è¡€ç—…æ²»ç–—æ–¹æ¡ˆ"
â”œâ”€â”€ çƒ­é—¨æœç´¢: "ç™½è¡€ç—…åº·å¤"
â””â”€â”€ æ™ºèƒ½å»ºè®®: "ç™½è¡€ç—…æ‚£è€…æŠ¤ç†"
```

#### æœç´¢è¿‡æ»¤å™¨

```
é«˜çº§æœç´¢è¿‡æ»¤å™¨:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” é«˜çº§æœç´¢                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ æ‚£è€…ä¿¡æ¯                         â”‚
â”‚ â€¢ å¹´é¾„èŒƒå›´: [0] - [18] å²          â”‚
â”‚ â€¢ æ€§åˆ«: â˜‘ï¸ç”· â˜‘ï¸å¥³                  â”‚
â”‚ â€¢ çŠ¶æ€: â˜‘ï¸åœ¨ä½ â˜å·²å‡ºé™¢ â˜è½¬é™¢      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¥ åŒ»ç–—ä¿¡æ¯                         â”‚
â”‚ â€¢ ç–¾ç—…ç±»å‹: [é€‰æ‹©ç–¾ç—…ç±»å‹]          â”‚
â”‚ â€¢ æ²»ç–—é˜¶æ®µ: [é€‰æ‹©æ²»ç–—é˜¶æ®µ]          â”‚
â”‚ â€¢ ä¸»æ²»åŒ»ç”Ÿ: [é€‰æ‹©åŒ»ç”Ÿ]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… æ—¶é—´èŒƒå›´                         â”‚
â”‚ â€¢ å…¥ä½æ—¶é—´: [å¼€å§‹æ—¥æœŸ] - [ç»“æŸæ—¥æœŸ] â”‚
â”‚ â€¢ æ›´æ–°æ—¶é—´: [å¼€å§‹æ—¥æœŸ] - [ç»“æŸæ—¥æœŸ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [é‡ç½®]    [æœç´¢]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€ç”¨æˆ·æƒé™æ¶æ„

### 7.1 è§’è‰²æƒé™æ¨¡å‹

#### è§’è‰²å®šä¹‰

```
è§’è‰²å±‚çº§ (Role Hierarchy):
â”œâ”€â”€ ğŸ”µ è¶…çº§ç®¡ç†å‘˜ (Super Admin)
â”‚   â”œâ”€â”€ ç³»ç»Ÿé…ç½®æƒé™
â”‚   â”œâ”€â”€ ç”¨æˆ·ç®¡ç†æƒé™
â”‚   â”œâ”€â”€ æ•°æ®å¯¼å…¥å¯¼å‡º
â”‚   â””â”€â”€ æ‰€æœ‰åŠŸèƒ½è®¿é—®
â”œâ”€â”€ ğŸŸ¢ ç®¡ç†å‘˜ (Admin)
â”‚   â”œâ”€â”€ æ‚£è€…ä¿¡æ¯ç®¡ç†
â”‚   â”œâ”€â”€ å…¥ä½æµç¨‹ç®¡ç†
â”‚   â”œâ”€â”€ æ•°æ®åˆ†ææŸ¥çœ‹
â”‚   â””â”€â”€ åŸºç¡€è®¾ç½®é…ç½®
â”œâ”€â”€ ğŸŸ¡ æŠ¤å£«é•¿ (Head Nurse)
â”‚   â”œâ”€â”€ æ‚£è€…ä¿¡æ¯ç¼–è¾‘
â”‚   â”œâ”€â”€ å…¥ä½å®¡æ ¸æƒé™
â”‚   â”œâ”€â”€ å›¢é˜Ÿå·¥ä½œå®‰æ’
â”‚   â””â”€â”€ æŠ¥å‘ŠæŸ¥çœ‹æƒé™
â”œâ”€â”€ ğŸŸ  æŠ¤å£« (Nurse)
â”‚   â”œâ”€â”€ æ‚£è€…ä¿¡æ¯æŸ¥çœ‹
â”‚   â”œâ”€â”€ åŸºç¡€ä¿¡æ¯æ›´æ–°
â”‚   â”œâ”€â”€ æ—¥å¸¸è®°å½•ç»´æŠ¤
â”‚   â””â”€â”€ æœ‰é™ç¼–è¾‘æƒé™
â””â”€â”€ ğŸ”´ å¿—æ„¿è€… (Volunteer)
    â”œâ”€â”€ åŸºç¡€ä¿¡æ¯æŸ¥çœ‹
    â”œâ”€â”€ æœ‰é™æœç´¢åŠŸèƒ½
    â””â”€â”€ ååŠ©å½•å…¥æƒé™
```

#### æƒé™çŸ©é˜µ

| åŠŸèƒ½æ¨¡å—     | è¶…çº§ç®¡ç†å‘˜ | ç®¡ç†å‘˜ | æŠ¤å£«é•¿ | æŠ¤å£« | å¿—æ„¿è€… |
| ------------ | ---------- | ------ | ------ | ---- | ------ |
| æ‚£è€…æ¡£æ¡ˆæŸ¥çœ‹ | âœ…         | âœ…     | âœ…     | âœ…   | âœ…     |
| æ‚£è€…ä¿¡æ¯ç¼–è¾‘ | âœ…         | âœ…     | âœ…     | âš ï¸   | âŒ     |
| æ–°æ‚£è€…å…¥ä½   | âœ…         | âœ…     | âœ…     | âš ï¸   | âŒ     |
| æ•°æ®åˆ†æ     | âœ…         | âœ…     | âš ï¸     | âŒ   | âŒ     |
| ç³»ç»Ÿè®¾ç½®     | âœ…         | âš ï¸     | âŒ     | âŒ   | âŒ     |
| ç”¨æˆ·ç®¡ç†     | âœ…         | âŒ     | âŒ     | âŒ   | âŒ     |

_è¯´æ˜: âœ… å®Œå…¨æƒé™, âš ï¸ æœ‰é™æƒé™, âŒ æ— æƒé™_

### 7.2 æƒé™æ§åˆ¶ç­–ç•¥

#### é¡µé¢çº§æƒé™æ§åˆ¶

```javascript
// é¡µé¢æƒé™é…ç½®
const pagePermissions = {
  '/dashboard': {
    roles: ['all'],
    permissions: ['read'],
  },
  '/patients': {
    roles: ['admin', 'nurse', 'volunteer'],
    permissions: ['read', 'search'],
  },
  '/patients/edit': {
    roles: ['admin', 'head_nurse', 'nurse'],
    permissions: ['read', 'write'],
    conditions: {
      nurse: 'own_patients_only', // æŠ¤å£«åªèƒ½ç¼–è¾‘è‡ªå·±è´Ÿè´£çš„æ‚£è€…
    },
  },
  '/admission': {
    roles: ['admin', 'head_nurse'],
    permissions: ['read', 'write', 'create'],
  },
  '/analytics': {
    roles: ['admin', 'head_nurse'],
    permissions: ['read'],
    conditions: {
      head_nurse: 'department_data_only', // æŠ¤å£«é•¿åªèƒ½çœ‹ç§‘å®¤æ•°æ®
    },
  },
  '/system': {
    roles: ['super_admin'],
    permissions: ['read', 'write', 'delete', 'configure'],
  },
};
```

#### æ•°æ®çº§æƒé™æ§åˆ¶

```javascript
// æ•°æ®è®¿é—®æƒé™
const dataPermissions = {
  patient_data: {
    super_admin: 'all_data',
    admin: 'all_data',
    head_nurse: 'department_data',
    nurse: 'assigned_patients',
    volunteer: 'basic_info_only',
  },
  medical_records: {
    super_admin: 'full_access',
    admin: 'full_access',
    head_nurse: 'department_records',
    nurse: 'assigned_patients_records',
    volunteer: 'no_access',
  },
  sensitive_data: {
    super_admin: 'full_access',
    admin: 'masked_access', // æ•æ„Ÿä¿¡æ¯è„±æ•
    head_nurse: 'masked_access',
    nurse: 'masked_access',
    volunteer: 'no_access',
  },
};
```

#### æ“ä½œæƒé™æ§åˆ¶

```javascript
// æ“ä½œæƒé™é…ç½®
const operationPermissions = {
  create_patient: {
    roles: ['admin', 'head_nurse'],
    workflow: 'approval_required', // éœ€è¦å®¡æ‰¹æµç¨‹
  },
  edit_medical_info: {
    roles: ['admin', 'head_nurse', 'nurse'],
    conditions: {
      nurse: 'supervisor_approval_required',
    },
  },
  delete_patient: {
    roles: ['super_admin'],
    workflow: 'multi_level_approval',
  },
  export_data: {
    roles: ['super_admin', 'admin'],
    audit: 'required', // éœ€è¦å®¡è®¡æ—¥å¿—
    approval: 'required',
  },
};
```

### 7.3 æƒé™éªŒè¯æµç¨‹

#### æƒé™éªŒè¯ä¸­é—´ä»¶

```javascript
// æƒé™éªŒè¯æµç¨‹
const permissionMiddleware = async (req, res, next) => {
  try {
    // 1. éªŒè¯ç”¨æˆ·èº«ä»½
    const user = await authenticateUser(req.token);

    // 2. è·å–ç”¨æˆ·è§’è‰²
    const userRole = await getUserRole(user.id);

    // 3. æ£€æŸ¥é¡µé¢è®¿é—®æƒé™
    const pagePermission = checkPagePermission(req.path, userRole);
    if (!pagePermission.allowed) {
      return res.status(403).json({ error: 'Access denied' });
    }

    // 4. æ£€æŸ¥æ•°æ®è®¿é—®æƒé™
    if (req.params.patientId) {
      const dataPermission = await checkDataPermission(req.params.patientId, userRole, user.id);
      if (!dataPermission.allowed) {
        return res.status(403).json({ error: 'Data access denied' });
      }
    }

    // 5. æ£€æŸ¥æ“ä½œæƒé™
    const operationPermission = checkOperationPermission(req.method, req.path, userRole);
    if (!operationPermission.allowed) {
      return res.status(403).json({ error: 'Operation not permitted' });
    }

    // 6. è®°å½•è®¿é—®æ—¥å¿—
    await logAccess(user.id, req.path, req.method);

    req.user = user;
    req.permissions = {
      page: pagePermission,
      data: dataPermission,
      operation: operationPermission,
    };

    next();
  } catch (error) {
    res.status(401).json({ error: 'Authentication failed' });
  }
};
```

---

## å…«ã€çŠ¶æ€ç®¡ç†æ¶æ„

### 8.1 åº”ç”¨çŠ¶æ€åˆ†å±‚

#### å…¨å±€çŠ¶æ€ (Global State)

```javascript
// å…¨å±€çŠ¶æ€ç»“æ„
const globalState = {
  // ç”¨æˆ·çŠ¶æ€
  user: {
    profile: userProfile,
    permissions: userPermissions,
    preferences: userPreferences,
    session: sessionInfo,
  },

  // åº”ç”¨çŠ¶æ€
  app: {
    theme: 'light', // light | dark | auto
    language: 'zh-CN',
    networkStatus: 'online', // online | offline | slow
    loading: false,
    notifications: [],
  },

  // ç³»ç»Ÿé…ç½®
  config: {
    apiBaseUrl: configData.apiUrl,
    features: enabledFeatures,
    limits: systemLimits,
    version: appVersion,
  },
};
```

#### é¡µé¢çŠ¶æ€ (Page State)

```javascript
// æ‚£è€…åˆ—è¡¨é¡µçŠ¶æ€
const patientListState = {
  // æ•°æ®çŠ¶æ€
  data: {
    patients: [],
    totalCount: 0,
    currentPage: 1,
    pageSize: 20,
  },

  // UIçŠ¶æ€
  ui: {
    loading: false,
    error: null,
    selectedIds: [],
    viewMode: 'card', // card | list | table
    sortBy: 'admissionDate',
    sortOrder: 'desc',
  },

  // æœç´¢çŠ¶æ€
  search: {
    keyword: '',
    filters: {
      status: 'all',
      ageRange: [0, 18],
      gender: 'all',
      dateRange: null,
    },
    suggestions: [],
    history: [],
  },
};

// æ‚£è€…è¯¦æƒ…é¡µçŠ¶æ€
const patientDetailState = {
  // æ‚£è€…æ•°æ®
  patient: {
    basicInfo: {},
    medicalInfo: {},
    admissionHistory: [],
    documents: [],
  },

  // ç¼–è¾‘çŠ¶æ€
  editing: {
    isEditing: false,
    editingSection: null, // basic | medical | documents
    hasChanges: false,
    validationErrors: {},
  },

  // UIçŠ¶æ€
  ui: {
    activeTab: 'basic',
    loading: false,
    saving: false,
    error: null,
  },
};
```

#### ç»„ä»¶çŠ¶æ€ (Component State)

```javascript
// ç»„ä»¶å†…éƒ¨çŠ¶æ€ç¤ºä¾‹
const componentState = {
  // è¡¨å•ç»„ä»¶çŠ¶æ€
  formState: {
    values: {},
    errors: {},
    touched: {},
    isValid: false,
    isSubmitting: false,
  },

  // æ¨¡æ€æ¡†çŠ¶æ€
  modalState: {
    isOpen: false,
    type: null, // confirm | info | error
    title: '',
    content: '',
    onConfirm: null,
    onCancel: null,
  },

  // æ–‡ä»¶ä¸Šä¼ çŠ¶æ€
  uploadState: {
    files: [],
    uploading: false,
    progress: 0,
    error: null,
  },
};
```

### 8.2 çŠ¶æ€æ›´æ–°æµç¨‹

#### çŠ¶æ€å˜æ›´æµæ°´çº¿

```javascript
// çŠ¶æ€æ›´æ–°æµç¨‹
const stateUpdatePipeline = {
  // 1. åŠ¨ä½œæ´¾å‘ (Action Dispatch)
  dispatch: action => {
    // è®°å½•åŠ¨ä½œæ—¥å¿—
    logger.debug('Action dispatched:', action);

    // éªŒè¯åŠ¨ä½œæ ¼å¼
    validateAction(action);

    // æ´¾å‘åˆ°å¯¹åº”çš„å¤„ç†å™¨
    return actionHandler.handle(action);
  },

  // 2. çŠ¶æ€å˜æ›´ (State Mutation)
  mutate: (state, payload) => {
    // åˆ›å»ºæ–°çŠ¶æ€å¯¹è±¡
    const newState = { ...state };

    // åº”ç”¨å˜æ›´
    applyMutation(newState, payload);

    // éªŒè¯çŠ¶æ€æœ‰æ•ˆæ€§
    validateState(newState);

    return newState;
  },

  // 3. å‰¯ä½œç”¨å¤„ç† (Side Effects)
  effects: async (action, state) => {
    // APIè°ƒç”¨
    if (action.type.includes('_REQUEST')) {
      await handleApiCall(action);
    }

    // æœ¬åœ°å­˜å‚¨åŒæ­¥
    if (action.type.includes('_UPDATE')) {
      await syncToLocalStorage(state);
    }

    // é€šçŸ¥æ¨é€
    if (action.type.includes('_NOTIFY')) {
      await sendNotification(action.payload);
    }
  },

  // 4. è§†å›¾æ›´æ–° (View Update)
  update: (component, newState) => {
    // æ¯”è¾ƒçŠ¶æ€å·®å¼‚
    const diff = compareState(component.state, newState);

    // åªæ›´æ–°æœ‰å˜åŒ–çš„éƒ¨åˆ†
    if (diff.hasChanges) {
      component.setState(newState);
    }
  },
};
```

#### çŠ¶æ€æŒä¹…åŒ–ç­–ç•¥

```javascript
// çŠ¶æ€æŒä¹…åŒ–é…ç½®
const persistenceConfig = {
  // éœ€è¦æŒä¹…åŒ–çš„çŠ¶æ€
  persist: {
    user: {
      storage: 'secure', // å®‰å…¨å­˜å‚¨
      keys: ['preferences', 'session'],
      encryption: true,
    },
    search: {
      storage: 'local',
      keys: ['history', 'filters'],
      maxAge: 7 * 24 * 60 * 60 * 1000, // 7å¤©
    },
    cache: {
      storage: 'memory',
      keys: ['patients', 'config'],
      maxSize: 50 * 1024 * 1024, // 50MB
    },
  },

  // ä¸æŒä¹…åŒ–çš„çŠ¶æ€
  transient: ['loading', 'error', 'networkStatus', 'notifications'],

  // æŒä¹…åŒ–ç­–ç•¥
  strategies: {
    immediate: ['user.session'], // ç«‹å³æŒä¹…åŒ–
    debounced: ['search.filters'], // é˜²æŠ–æŒä¹…åŒ–
    periodic: ['cache.patients'], // å®šæœŸæŒä¹…åŒ–
  },
};
```

---

## ä¹ã€é”™è¯¯å¤„ç†æ¶æ„

### 9.1 é”™è¯¯åˆ†ç±»ä½“ç³»

#### é”™è¯¯ç±»å‹åˆ†ç±»

```javascript
// é”™è¯¯ç±»å‹å®šä¹‰
const ErrorTypes = {
  // ç½‘ç»œé”™è¯¯
  NETWORK: {
    CONNECTION_FAILED: 'network.connection_failed',
    TIMEOUT: 'network.timeout',
    SERVER_ERROR: 'network.server_error',
    NO_INTERNET: 'network.no_internet',
  },

  // éªŒè¯é”™è¯¯
  VALIDATION: {
    REQUIRED_FIELD: 'validation.required_field',
    INVALID_FORMAT: 'validation.invalid_format',
    OUT_OF_RANGE: 'validation.out_of_range',
    DUPLICATE_VALUE: 'validation.duplicate_value',
  },

  // æƒé™é”™è¯¯
  PERMISSION: {
    ACCESS_DENIED: 'permission.access_denied',
    INSUFFICIENT_PRIVILEGES: 'permission.insufficient_privileges',
    SESSION_EXPIRED: 'permission.session_expired',
    ACCOUNT_DISABLED: 'permission.account_disabled',
  },

  // ä¸šåŠ¡é”™è¯¯
  BUSINESS: {
    PATIENT_NOT_FOUND: 'business.patient_not_found',
    ADMISSION_CONFLICT: 'business.admission_conflict',
    INVALID_OPERATION: 'business.invalid_operation',
    DATA_INCONSISTENCY: 'business.data_inconsistency',
  },

  // ç³»ç»Ÿé”™è¯¯
  SYSTEM: {
    UNEXPECTED_ERROR: 'system.unexpected_error',
    SERVICE_UNAVAILABLE: 'system.service_unavailable',
    MAINTENANCE_MODE: 'system.maintenance_mode',
    VERSION_MISMATCH: 'system.version_mismatch',
  },
};
```

#### é”™è¯¯ä¸¥é‡æ€§ç­‰çº§

```javascript
// é”™è¯¯ä¸¥é‡æ€§åˆ†çº§
const ErrorSeverity = {
  CRITICAL: {
    level: 5,
    description: 'ç³»ç»Ÿå´©æºƒï¼Œæ— æ³•ç»§ç»­ä½¿ç”¨',
    action: 'immediate_attention',
    recovery: 'restart_required',
  },
  HIGH: {
    level: 4,
    description: 'æ ¸å¿ƒåŠŸèƒ½å—å½±å“',
    action: 'urgent_fix',
    recovery: 'alternative_path',
  },
  MEDIUM: {
    level: 3,
    description: 'éƒ¨åˆ†åŠŸèƒ½å—å½±å“',
    action: 'scheduled_fix',
    recovery: 'retry_available',
  },
  LOW: {
    level: 2,
    description: 'è½»å¾®å½±å“ç”¨æˆ·ä½“éªŒ',
    action: 'enhancement',
    recovery: 'auto_recovery',
  },
  INFO: {
    level: 1,
    description: 'ä¿¡æ¯æç¤ºï¼Œæ— éœ€å¤„ç†',
    action: 'log_only',
    recovery: 'none_required',
  },
};
```

### 9.2 é”™è¯¯å¤„ç†ç­–ç•¥

#### é”™è¯¯å¤„ç†æµç¨‹

```javascript
// ç»Ÿä¸€é”™è¯¯å¤„ç†å™¨
class ErrorHandler {
  static handle(error, context = {}) {
    // 1. é”™è¯¯åˆ†ç±»
    const errorType = this.classifyError(error);

    // 2. ä¸¥é‡æ€§è¯„ä¼°
    const severity = this.assessSeverity(errorType, context);

    // 3. ç”¨æˆ·æç¤º
    const userMessage = this.generateUserMessage(errorType, severity);

    // 4. æ¢å¤ç­–ç•¥
    const recovery = this.getRecoveryStrategy(errorType, severity);

    // 5. æ—¥å¿—è®°å½•
    this.logError(error, errorType, severity, context);

    // 6. é”™è¯¯ä¸ŠæŠ¥
    if (severity.level >= 3) {
      this.reportError(error, context);
    }

    return {
      type: errorType,
      severity,
      message: userMessage,
      recovery,
      timestamp: new Date().toISOString(),
    };
  }

  static generateUserMessage(errorType, severity) {
    const messages = {
      [ErrorTypes.NETWORK.CONNECTION_FAILED]: {
        title: 'ç½‘ç»œè¿æ¥å¤±è´¥',
        description: 'è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•',
        action: 'é‡è¯•',
      },
      [ErrorTypes.VALIDATION.REQUIRED_FIELD]: {
        title: 'ä¿¡æ¯å¡«å†™ä¸å®Œæ•´',
        description: 'è¯·å¡«å†™å¿…å¡«é¡¹åæäº¤',
        action: 'æ£€æŸ¥',
      },
      [ErrorTypes.PERMISSION.ACCESS_DENIED]: {
        title: 'è®¿é—®è¢«æ‹’ç»',
        description: 'æ‚¨æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤æ“ä½œ',
        action: 'è”ç³»ç®¡ç†å‘˜',
      },
      [ErrorTypes.BUSINESS.PATIENT_NOT_FOUND]: {
        title: 'æ‚£è€…ä¿¡æ¯æœªæ‰¾åˆ°',
        description: 'è¯¥æ‚£è€…å¯èƒ½å·²è¢«åˆ é™¤æˆ–è½¬ç§»',
        action: 'åˆ·æ–°é¡µé¢',
      },
    };

    return (
      messages[errorType] || {
        title: 'æ“ä½œå¤±è´¥',
        description: 'è¯·ç¨åé‡è¯•æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ',
        action: 'é‡è¯•',
      }
    );
  }
}
```

#### é”™è¯¯æ¢å¤æœºåˆ¶

```javascript
// é”™è¯¯æ¢å¤ç­–ç•¥
const RecoveryStrategies = {
  // è‡ªåŠ¨é‡è¯•
  AUTO_RETRY: {
    maxAttempts: 3,
    backoffStrategy: 'exponential', // linear | exponential
    baseDelay: 1000,
    maxDelay: 10000,
    shouldRetry: error => {
      return error.type.startsWith('network.') && error.status >= 500;
    },
  },

  // é™çº§æœåŠ¡
  FALLBACK: {
    strategies: {
      'network.connection_failed': () => {
        // å¯ç”¨ç¦»çº¿æ¨¡å¼
        return switchToOfflineMode();
      },
      'service.unavailable': () => {
        // ä½¿ç”¨ç¼“å­˜æ•°æ®
        return useCachedData();
      },
      'feature.disabled': () => {
        // éšè—åŠŸèƒ½å…¥å£
        return hideFeature();
      },
    },
  },

  // ç”¨æˆ·å¼•å¯¼
  USER_GUIDANCE: {
    'validation.required_field': () => {
      return highlightRequiredFields();
    },
    'permission.access_denied': () => {
      return showPermissionHelp();
    },
    'network.no_internet': () => {
      return showNetworkTroubleshooting();
    },
  },

  // æ•°æ®ä¿®å¤
  DATA_REPAIR: {
    'data.inconsistency': async () => {
      const repair = await attemptDataRepair();
      if (repair.success) {
        return { strategy: 'repaired', data: repair.data };
      }
      return { strategy: 'manual_intervention_required' };
    },
  },
};
```

### 9.3 ç”¨æˆ·é”™è¯¯åé¦ˆç•Œé¢

#### é”™è¯¯æç¤ºç»„ä»¶è®¾è®¡

```vue
<!-- é”™è¯¯æç¤ºç»„ä»¶ -->
<template>
  <view class="error-container" v-if="error">
    <!-- è½»å¾®é”™è¯¯ - Toastæç¤º -->
    <Toast
      v-if="error.severity.level <= 2"
      :type="error.type"
      :message="error.message.description"
      :duration="3000"
      @close="handleErrorDismiss"
    />

    <!-- ä¸­ç­‰é”™è¯¯ - å¡ç‰‡æç¤º -->
    <ErrorCard
      v-else-if="error.severity.level === 3"
      :title="error.message.title"
      :description="error.message.description"
      :action="error.message.action"
      @retry="handleRetry"
      @dismiss="handleErrorDismiss"
    />

    <!-- ä¸¥é‡é”™è¯¯ - å…¨å±æç¤º -->
    <ErrorPage
      v-else
      :title="error.message.title"
      :description="error.message.description"
      :illustration="getErrorIllustration(error.type)"
      :actions="getErrorActions(error)"
      @action="handleErrorAction"
    />
  </view>
</template>

<script>
export default {
  props: {
    error: {
      type: Object,
      default: null,
    },
  },

  methods: {
    handleRetry() {
      this.$emit('retry');
    },

    handleErrorDismiss() {
      this.$emit('dismiss');
    },

    handleErrorAction(action) {
      this.$emit('action', action);
    },

    getErrorIllustration(errorType) {
      const illustrations = {
        'network.': 'ğŸŒ',
        'permission.': 'ğŸ”’',
        'validation.': 'ğŸ“',
        'business.': 'ğŸ’¼',
        'system.': 'âš™ï¸',
      };

      for (const [prefix, icon] of Object.entries(illustrations)) {
        if (errorType.startsWith(prefix)) {
          return icon;
        }
      }

      return 'âŒ';
    },

    getErrorActions(error) {
      const actions = [];

      if (error.recovery.canRetry) {
        actions.push({ type: 'retry', text: 'é‡è¯•', primary: true });
      }

      if (error.recovery.hasFallback) {
        actions.push({ type: 'fallback', text: 'ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ' });
      }

      if (error.severity.level >= 4) {
        actions.push({ type: 'contact', text: 'è”ç³»æŠ€æœ¯æ”¯æŒ' });
      }

      actions.push({ type: 'dismiss', text: 'çŸ¥é“äº†' });

      return actions;
    },
  },
};
</script>
```

---

## åã€æ€§èƒ½ä¼˜åŒ–æ¶æ„

### 10.1 åŠ è½½æ€§èƒ½ä¼˜åŒ–

#### åˆ†å±‚åŠ è½½ç­–ç•¥

```javascript
// åˆ†å±‚åŠ è½½é…ç½®
const LoadingStrategy = {
  // L1: å…³é”®å†…å®¹ä¼˜å…ˆåŠ è½½
  critical: {
    priority: 1,
    timeout: 2000,
    resources: ['app-shell', 'navigation', 'user-info', 'critical-css'],
  },

  // L2: é‡è¦å†…å®¹å»¶è¿ŸåŠ è½½
  important: {
    priority: 2,
    timeout: 5000,
    resources: ['patient-list', 'dashboard-cards', 'search-functionality'],
  },

  // L3: è¾…åŠ©å†…å®¹æŒ‰éœ€åŠ è½½
  optional: {
    priority: 3,
    timeout: 10000,
    resources: ['analytics-charts', 'help-content', 'advanced-features'],
  },
};

// æ¸è¿›å¼åŠ è½½å®ç°
class ProgressiveLoader {
  constructor(strategy) {
    this.strategy = strategy;
    this.loadedResources = new Set();
    this.loadingPromises = new Map();
  }

  async loadLevel(level) {
    const config = this.strategy[level];
    const promises = [];

    for (const resource of config.resources) {
      if (!this.loadedResources.has(resource)) {
        const promise = this.loadResource(resource, config.timeout);
        promises.push(promise);
        this.loadingPromises.set(resource, promise);
      }
    }

    try {
      await Promise.allSettled(promises);
    } catch (error) {
      console.warn(`Failed to load ${level} resources:`, error);
    }
  }

  async loadResource(resource, timeout) {
    return new Promise((resolve, reject) => {
      const timer = setTimeout(() => {
        reject(new Error(`Resource ${resource} loading timeout`));
      }, timeout);

      // æ¨¡æ‹Ÿèµ„æºåŠ è½½
      this.fetchResource(resource)
        .then(() => {
          clearTimeout(timer);
          this.loadedResources.add(resource);
          resolve(resource);
        })
        .catch(error => {
          clearTimeout(timer);
          reject(error);
        });
    });
  }
}
```

#### ä»£ç åˆ†å‰²ç­–ç•¥

```javascript
// è·¯ç”±çº§ä»£ç åˆ†å‰²
const routes = [
  {
    path: '/dashboard',
    component: () => import(/* webpackChunkName: "dashboard" */ '@/pages/Dashboard.vue'),
  },
  {
    path: '/patients',
    component: () => import(/* webpackChunkName: "patients" */ '@/pages/PatientList.vue'),
  },
  {
    path: '/patients/:id',
    component: () => import(/* webpackChunkName: "patient-detail" */ '@/pages/PatientDetail.vue'),
  },
  {
    path: '/admission',
    component: () => import(/* webpackChunkName: "admission" */ '@/pages/Admission.vue'),
  },
  {
    path: '/analytics',
    component: () => import(/* webpackChunkName: "analytics" */ '@/pages/Analytics.vue'),
  },
];

// ç»„ä»¶çº§ä»£ç åˆ†å‰²
const AsyncComponents = {
  // æŒ‰éœ€åŠ è½½çš„é‡å‹ç»„ä»¶
  DataVisualization: () => import('@/components/DataVisualization.vue'),
  PatientTimeline: () => import('@/components/PatientTimeline.vue'),
  FileUploader: () => import('@/components/FileUploader.vue'),

  // æ¡ä»¶åŠ è½½çš„ç»„ä»¶
  AdminPanel: () => {
    if (userRole.includes('admin')) {
      return import('@/components/AdminPanel.vue');
    }
    return Promise.resolve(null);
  },
};

// ç¬¬ä¸‰æ–¹åº“æŒ‰éœ€åŠ è½½
const LazyLibraries = {
  chartjs: () => import('chart.js'),
  excel: () => import('xlsx'),
  pdf: () => import('jspdf'),

  loadChart: async () => {
    if (!window.Chart) {
      const { Chart } = await LazyLibraries.chartjs();
      window.Chart = Chart;
    }
    return window.Chart;
  },
};
```

### 10.2 è¿è¡Œæ—¶æ€§èƒ½ä¼˜åŒ–

#### è™šæ‹Ÿæ»šåŠ¨å®ç°

```vue
<!-- è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨ç»„ä»¶ -->
<template>
  <view class="virtual-list" @scroll="handleScroll">
    <view class="virtual-list-phantom" :style="{ height: phantomHeight + 'px' }"></view>
    <view class="virtual-list-content" :style="{ transform: `translateY(${offsetY}px)` }">
      <view
        v-for="item in visibleItems"
        :key="item.id"
        class="virtual-list-item"
        :style="{ height: itemHeight + 'px' }"
      >
        <PatientCard :patient="item" />
      </view>
    </view>
  </view>
</template>

<script>
export default {
  props: {
    items: Array,
    itemHeight: {
      type: Number,
      default: 120,
    },
    containerHeight: {
      type: Number,
      default: 600,
    },
  },

  data() {
    return {
      scrollTop: 0,
      visibleItemCount: Math.ceil(this.containerHeight / this.itemHeight) + 2,
    };
  },

  computed: {
    phantomHeight() {
      return this.items.length * this.itemHeight;
    },

    startIndex() {
      return Math.floor(this.scrollTop / this.itemHeight);
    },

    endIndex() {
      return Math.min(this.startIndex + this.visibleItemCount, this.items.length);
    },

    visibleItems() {
      return this.items.slice(this.startIndex, this.endIndex).map((item, index) => ({
        ...item,
        _index: this.startIndex + index,
      }));
    },

    offsetY() {
      return this.startIndex * this.itemHeight;
    },
  },

  methods: {
    handleScroll(e) {
      this.scrollTop = e.detail.scrollTop;
    },
  },
};
</script>
```

#### æ•°æ®ç¼“å­˜ç­–ç•¥

```javascript
// å¤šçº§ç¼“å­˜ç³»ç»Ÿ
class CacheManager {
  constructor() {
    this.memoryCache = new Map(); // L1: å†…å­˜ç¼“å­˜
    this.localCache = new LocalStorageCache(); // L2: æœ¬åœ°å­˜å‚¨ç¼“å­˜
    this.networkCache = new NetworkCache(); // L3: ç½‘ç»œç¼“å­˜
  }

  async get(key, options = {}) {
    // L1: æ£€æŸ¥å†…å­˜ç¼“å­˜
    if (this.memoryCache.has(key)) {
      const cached = this.memoryCache.get(key);
      if (!this.isExpired(cached, options.ttl)) {
        return cached.data;
      }
    }

    // L2: æ£€æŸ¥æœ¬åœ°å­˜å‚¨ç¼“å­˜
    const localData = await this.localCache.get(key);
    if (localData && !this.isExpired(localData, options.ttl)) {
      // å›å¡«å†…å­˜ç¼“å­˜
      this.memoryCache.set(key, localData);
      return localData.data;
    }

    // L3: æ£€æŸ¥ç½‘ç»œç¼“å­˜
    const networkData = await this.networkCache.get(key);
    if (networkData && !this.isExpired(networkData, options.ttl)) {
      // å›å¡«ä¸Šçº§ç¼“å­˜
      this.memoryCache.set(key, networkData);
      await this.localCache.set(key, networkData);
      return networkData.data;
    }

    return null;
  }

  async set(key, data, options = {}) {
    const cacheItem = {
      data,
      timestamp: Date.now(),
      ttl: options.ttl || 300000, // é»˜è®¤5åˆ†é’Ÿ
      tags: options.tags || [],
    };

    // å†™å…¥æ‰€æœ‰ç¼“å­˜å±‚çº§
    this.memoryCache.set(key, cacheItem);
    await this.localCache.set(key, cacheItem);

    if (options.persistent) {
      await this.networkCache.set(key, cacheItem);
    }
  }

  isExpired(cacheItem, ttl) {
    if (!ttl) ttl = cacheItem.ttl;
    return Date.now() - cacheItem.timestamp > ttl;
  }

  // æ ‡ç­¾åŒ–ç¼“å­˜å¤±æ•ˆ
  invalidateByTag(tag) {
    for (const [key, item] of this.memoryCache.entries()) {
      if (item.tags && item.tags.includes(tag)) {
        this.memoryCache.delete(key);
        this.localCache.delete(key);
      }
    }
  }
}

// ç¼“å­˜ä½¿ç”¨ç¤ºä¾‹
const cacheManager = new CacheManager();

// æ‚£è€…æ•°æ®ç¼“å­˜
async function getPatientData(patientId) {
  const cacheKey = `patient:${patientId}`;

  // å°è¯•ä»ç¼“å­˜è·å–
  let patientData = await cacheManager.get(cacheKey, { ttl: 300000 }); // 5åˆ†é’ŸTTL

  if (!patientData) {
    // ç¼“å­˜æœªå‘½ä¸­ï¼Œä»APIè·å–
    patientData = await api.getPatient(patientId);

    // å†™å…¥ç¼“å­˜
    await cacheManager.set(cacheKey, patientData, {
      ttl: 300000,
      tags: ['patient', `patient:${patientId}`],
      persistent: true,
    });
  }

  return patientData;
}

// ç¼“å­˜å¤±æ•ˆç­–ç•¥
function invalidatePatientCache(patientId) {
  cacheManager.invalidateByTag(`patient:${patientId}`);
}
```

### 10.3 èµ„æºä¼˜åŒ–ç­–ç•¥

#### å›¾ç‰‡ä¼˜åŒ–æ–¹æ¡ˆ

```javascript
// å›¾ç‰‡ä¼˜åŒ–é…ç½®
const ImageOptimization = {
  // è‡ªé€‚åº”å›¾ç‰‡æ ¼å¼
  formats: {
    webp: {
      quality: 80,
      support: () => supportsWebP(),
    },
    jpeg: {
      quality: 85,
      fallback: true,
    },
    png: {
      compression: 6,
      useFor: ['icons', 'transparent'],
    },
  },

  // å“åº”å¼å›¾ç‰‡å°ºå¯¸
  sizes: {
    thumbnail: { width: 120, height: 120 },
    small: { width: 300, height: 200 },
    medium: { width: 600, height: 400 },
    large: { width: 1200, height: 800 },
  },

  // æ‡’åŠ è½½é…ç½®
  lazyLoading: {
    threshold: 100, // æå‰100pxå¼€å§‹åŠ è½½
    placeholder: 'data:image/svg+xml;base64,...', // base64å ä½å›¾
    errorFallback: '/images/error-placeholder.png',
  },
};

// å›¾ç‰‡ç»„ä»¶å®ç°
const OptimizedImage = {
  props: {
    src: String,
    alt: String,
    size: {
      type: String,
      default: 'medium',
    },
    lazy: {
      type: Boolean,
      default: true,
    },
  },

  data() {
    return {
      loaded: false,
      error: false,
      inView: false,
    };
  },

  computed: {
    optimizedSrc() {
      if (!this.src) return ImageOptimization.lazyLoading.placeholder;

      const sizeConfig = ImageOptimization.sizes[this.size];
      const format = this.getBestFormat();

      return this.buildImageUrl(this.src, sizeConfig, format);
    },
  },

  methods: {
    getBestFormat() {
      for (const [format, config] of Object.entries(ImageOptimization.formats)) {
        if (config.support && config.support()) {
          return format;
        }
      }
      return 'jpeg'; // é»˜è®¤æ ¼å¼
    },

    buildImageUrl(src, size, format) {
      // æ„å»ºä¼˜åŒ–åçš„å›¾ç‰‡URL
      return `${src}?w=${size.width}&h=${size.height}&f=${format}&q=80`;
    },
  },
};
```

#### ç½‘ç»œè¯·æ±‚ä¼˜åŒ–

```javascript
// è¯·æ±‚ä¼˜åŒ–ç®¡ç†å™¨
class RequestOptimizer {
  constructor() {
    this.requestQueue = new Map();
    this.retryConfig = {
      maxRetries: 3,
      backoffFactor: 2,
      initialDelay: 1000,
    };
  }

  // è¯·æ±‚å»é‡
  async deduplicate(url, options = {}) {
    const key = this.generateRequestKey(url, options);

    if (this.requestQueue.has(key)) {
      // è¿”å›æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚
      return this.requestQueue.get(key);
    }

    const promise = this.makeRequest(url, options);
    this.requestQueue.set(key, promise);

    // è¯·æ±‚å®Œæˆåæ¸…ç†
    promise.finally(() => {
      this.requestQueue.delete(key);
    });

    return promise;
  }

  // æ‰¹é‡è¯·æ±‚åˆå¹¶
  async batchRequest(requests) {
    const batchSize = 5;
    const results = [];

    for (let i = 0; i < requests.length; i += batchSize) {
      const batch = requests.slice(i, i + batchSize);
      const batchPromises = batch.map(req => this.deduplicate(req.url, req.options));

      try {
        const batchResults = await Promise.allSettled(batchPromises);
        results.push(...batchResults);
      } catch (error) {
        console.error('Batch request failed:', error);
      }
    }

    return results;
  }

  // æ™ºèƒ½é‡è¯•
  async retryWithBackoff(fn, retryCount = 0) {
    try {
      return await fn();
    } catch (error) {
      if (retryCount >= this.retryConfig.maxRetries) {
        throw error;
      }

      if (this.shouldRetry(error)) {
        const delay =
          this.retryConfig.initialDelay * Math.pow(this.retryConfig.backoffFactor, retryCount);

        await this.sleep(delay);
        return this.retryWithBackoff(fn, retryCount + 1);
      }

      throw error;
    }
  }

  shouldRetry(error) {
    // é‡è¯•æ¡ä»¶åˆ¤æ–­
    const retryableErrors = [500, 502, 503, 504];
    return retryableErrors.includes(error.status) || error.code === 'NETWORK_ERROR';
  }

  generateRequestKey(url, options) {
    return `${options.method || 'GET'}:${url}:${JSON.stringify(options.data || {})}`;
  }

  sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}
```

---

## åä¸€ã€æ— éšœç¢è®¾è®¡æ¶æ„

### 11.1 æ— éšœç¢è®¾è®¡åŸåˆ™

#### WCAG 2.1 åˆè§„æ€§

```javascript
// æ— éšœç¢è®¾è®¡æ£€æŸ¥æ¸…å•
const AccessibilityChecklist = {
  // æ„ŸçŸ¥æ€§ (Perceivable)
  perceivable: {
    textAlternatives: {
      // ä¸ºæ‰€æœ‰éæ–‡æœ¬å†…å®¹æä¾›æ›¿ä»£æ–‡æœ¬
      rules: [
        'All images must have alt text',
        'Decorative images should have empty alt=""',
        'Complex images need detailed descriptions',
      ],
      implementation: {
        images: 'Use semantic alt attributes',
        icons: 'Use aria-label for icon buttons',
        charts: 'Provide data tables as alternatives',
      },
    },

    colorContrast: {
      // ç¡®ä¿è¶³å¤Ÿçš„é¢œè‰²å¯¹æ¯”åº¦
      minimumRatio: {
        normalText: 4.5, // AAçº§æ ‡å‡†
        largeText: 3.0, // 18ptæˆ–14ptç²—ä½“
        enhanced: 7.0, // AAAçº§æ ‡å‡†
      },
      tools: [
        'Use contrast checking tools',
        'Test with different lighting conditions',
        'Consider color blindness',
      ],
    },

    resizeText: {
      // æ–‡æœ¬å¯ç¼©æ”¾è‡³200%è€Œä¸å½±å“åŠŸèƒ½
      requirements: [
        'Text scales up to 200% without horizontal scrolling',
        'UI components remain functional when scaled',
        'No content is cut off or overlapped',
      ],
    },
  },

  // å¯æ“ä½œæ€§ (Operable)
  operable: {
    keyboardAccessible: {
      // æ‰€æœ‰åŠŸèƒ½å¯é€šè¿‡é”®ç›˜è®¿é—®
      requirements: [
        'All interactive elements are keyboard accessible',
        'Tab order is logical and predictable',
        'Focus indicators are clearly visible',
        'No keyboard traps exist',
      ],
      keyBindings: {
        navigation: {
          Tab: 'Move to next focusable element',
          'Shift+Tab': 'Move to previous focusable element',
          'Enter/Space': 'Activate button or link',
          Escape: 'Close modal or cancel action',
        },
        lists: {
          'Arrow Keys': 'Navigate through list items',
          'Home/End': 'Jump to first/last item',
          'Page Up/Down': 'Navigate by page',
        },
      },
    },

    seizuresPrevention: {
      // é¿å…å¼•èµ·ç™«ç—«å‘ä½œçš„å†…å®¹
      guidelines: [
        'No more than 3 flashes per second',
        'Avoid large flashing areas',
        'Provide option to disable animations',
      ],
    },

    navigable: {
      // å¸®åŠ©ç”¨æˆ·å¯¼èˆªå’ŒæŸ¥æ‰¾å†…å®¹
      requirements: [
        'Skip links for main content',
        'Descriptive page titles',
        'Clear heading structure',
        'Breadcrumb navigation',
      ],
    },
  },

  // å¯ç†è§£æ€§ (Understandable)
  understandable: {
    readable: {
      // æ–‡æœ¬å†…å®¹å¯è¯»ä¸”å¯ç†è§£
      guidelines: [
        'Use clear and simple language',
        'Define unusual words and jargon',
        'Use consistent terminology',
        'Provide language attributes',
      ],
    },

    predictable: {
      // ç•Œé¢åŠŸèƒ½ä»¥å¯é¢„æµ‹çš„æ–¹å¼è¿è¡Œ
      requirements: [
        'Consistent navigation across pages',
        'Consistent component behavior',
        'Context changes are user-initiated',
        'Clear error messages and help text',
      ],
    },
  },

  // å¥å£®æ€§ (Robust)
  robust: {
    compatible: {
      // ä¸è¾…åŠ©æŠ€æœ¯å…¼å®¹
      requirements: [
        'Valid HTML markup',
        'Proper ARIA attributes',
        'Compatible with screen readers',
        'Works across different browsers',
      ],
    },
  },
};
```

#### ARIA å±æ€§ä½¿ç”¨è§„èŒƒ

```vue
<!-- è¯­ä¹‰åŒ–HTMLå’ŒARIAç¤ºä¾‹ -->
<template>
  <!-- é¡µé¢ä¸»è¦ç»“æ„ -->
  <view role="main" aria-labelledby="page-title">
    <text id="page-title" class="sr-only">æ‚£è€…æ¡£æ¡ˆç®¡ç†</text>

    <!-- å¯¼èˆªåŒºåŸŸ -->
    <nav role="navigation" aria-label="ä¸»å¯¼èˆª">
      <view class="tab-bar" role="tablist">
        <button
          v-for="tab in tabs"
          :key="tab.name"
          role="tab"
          :aria-selected="currentTab === tab.name"
          :aria-controls="`panel-${tab.name}`"
          :id="`tab-${tab.name}`"
          @click="switchTab(tab.name)"
        >
          {{ tab.title }}
        </button>
      </view>
    </nav>

    <!-- æœç´¢åŒºåŸŸ -->
    <view role="search" aria-label="æ‚£è€…æœç´¢">
      <label for="patient-search" class="sr-only">æœç´¢æ‚£è€…</label>
      <input
        id="patient-search"
        type="search"
        v-model="searchQuery"
        placeholder="è¾“å…¥æ‚£è€…å§“åæˆ–ç”µè¯"
        :aria-describedby="searchQuery ? 'search-results-count' : 'search-help'"
        @input="onSearchInput"
      />
      <text id="search-help" class="sr-only"> å¯ä»¥é€šè¿‡å§“åã€ç”µè¯å·ç æˆ–è¯Šæ–­ä¿¡æ¯æœç´¢æ‚£è€… </text>
      <text id="search-results-count" v-if="searchResults.length" class="sr-only">
        æ‰¾åˆ° {{ searchResults.length }} æ¡ç»“æœ
      </text>
    </view>

    <!-- æ‚£è€…åˆ—è¡¨ -->
    <view role="region" aria-label="æ‚£è€…åˆ—è¡¨" :aria-describedby="listDescription">
      <text id="list-description" class="sr-only">
        å½“å‰æ˜¾ç¤º {{ patients.length }} åæ‚£è€…ï¼ŒæŒ‰å…¥ä½æ—¶é—´æ’åº
      </text>

      <view role="list" class="patient-list">
        <PatientCard
          v-for="patient in patients"
          :key="patient.id"
          :patient="patient"
          role="listitem"
          :aria-label="`æ‚£è€…: ${patient.name}, ${patient.age}å², ${patient.diagnosis}`"
          @click="viewPatient(patient.id)"
        />
      </view>
    </view>

    <!-- æ¨¡æ€æ¡† -->
    <Modal
      v-if="showModal"
      role="dialog"
      :aria-labelledby="modalTitleId"
      :aria-describedby="modalDescId"
      aria-modal="true"
      @close="closeModal"
    >
      <template #title>
        <text :id="modalTitleId">{{ modalTitle }}</text>
      </template>
      <template #content>
        <text :id="modalDescId">{{ modalDescription }}</text>
      </template>
    </Modal>
  </view>
</template>

<script>
export default {
  data() {
    return {
      currentTab: 'dashboard',
      searchQuery: '',
      modalTitleId: 'modal-title-' + Date.now(),
      modalDescId: 'modal-desc-' + Date.now(),
    };
  },

  methods: {
    // é”®ç›˜å¯¼èˆªæ”¯æŒ
    onKeyDown(event) {
      switch (event.key) {
        case 'Escape':
          if (this.showModal) {
            this.closeModal();
          }
          break;
        case 'Tab':
          this.manageFocusOrder(event);
          break;
      }
    },

    // ç„¦ç‚¹ç®¡ç†
    manageFocusOrder(event) {
      const focusableElements = this.getFocusableElements();
      const currentIndex = focusableElements.indexOf(document.activeElement);

      if (event.shiftKey) {
        // Shift+Tab - å‘å‰å¯¼èˆª
        const nextIndex = currentIndex > 0 ? currentIndex - 1 : focusableElements.length - 1;
        focusableElements[nextIndex].focus();
      } else {
        // Tab - å‘åå¯¼èˆª
        const nextIndex = currentIndex < focusableElements.length - 1 ? currentIndex + 1 : 0;
        focusableElements[nextIndex].focus();
      }

      event.preventDefault();
    },

    getFocusableElements() {
      return Array.from(
        this.$el.querySelectorAll(
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
        )
      ).filter(el => !el.disabled && this.isVisible(el));
    },
  },
};
</script>

<style>
/* å±å¹•é˜…è¯»å™¨ä¸“ç”¨æ–‡æœ¬ */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ç„¦ç‚¹æŒ‡ç¤ºå™¨ */
button:focus,
input:focus,
select:focus,
textarea:focus,
[tabindex]:focus {
  outline: 2px solid #007aff;
  outline-offset: 2px;
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
@media (prefers-contrast: high) {
  .patient-card {
    border: 2px solid;
  }

  .button-primary {
    background: ButtonFace;
    color: ButtonText;
    border: 2px solid ButtonText;
  }
}

/* åŠ¨ç”»ç¦ç”¨æ”¯æŒ */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
```

### 11.2 è¾…åŠ©æŠ€æœ¯æ”¯æŒ

#### å±å¹•é˜…è¯»å™¨ä¼˜åŒ–

```javascript
// å±å¹•é˜…è¯»å™¨å…¬å‘Šç®¡ç†
class ScreenReaderAnnouncer {
  constructor() {
    this.announceEl = this.createAnnounceElement();
    this.queue = [];
    this.isAnnouncing = false;
  }

  createAnnounceElement() {
    const el = document.createElement('div');
```
