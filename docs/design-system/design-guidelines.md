# 公益小家患者档案管理系统 - 设计指南

## 概述

本设计指南为公益小家患者档案管理系统提供完整的视觉设计和交互标准，确保整个系统的一致性、可用性和无障碍性。

## 设计原则

### 1. 温暖关怀
体现公益组织的人文关怀，使用温暖的色彩和友好的交互设计。

**实践要点**：
- 使用温暖的蓝色（#2E86AB）作为主色调，传达专业和信赖
- 采用温馨的橙色（#F24236）作为辅助色，体现关爱和温暖
- 圆润的边角设计，避免尖锐的视觉元素
- 友好的交互反馈和引导提示

### 2. 简洁高效
降低使用门槛，提高工作效率，避免不必要的装饰。

**实践要点**：
- 清晰的信息层级和布局
- 精简的导航结构
- 直观的操作流程
- 减少认知负担

### 3. 安全可靠
保护隐私，确保数据安全，建立用户信任。

**实践要点**：
- 明确的权限提示
- 安全的数据处理提示
- 可靠的错误处理机制
- 清晰的操作确认

### 4. 包容性设计
考虑不同用户的使用能力，确保无障碍访问。

**实践要点**：
- 符合WCAG 2.1 AA标准
- 足够的颜色对比度
- 合适的触摸目标尺寸
- 键盘导航支持

## 色彩系统

### 主色调

#### 主要色彩（Primary）
- **颜色值**: #2E86AB
- **用途**: 主要按钮、链接、重要信息强调
- **情感传达**: 专业、信赖、稳定

#### 次要色彩（Secondary）
- **颜色值**: #F24236
- **用途**: 次要按钮、提醒标识、温暖元素
- **情感传达**: 关爱、温暖、活力

### 功能色彩

#### 成功色（Success）
- **颜色值**: #52C41A
- **用途**: 成功状态、完成操作、正面反馈

#### 警告色（Warning）
- **颜色值**: #FAAD14
- **用途**: 警告信息、需要注意的内容

#### 错误色（Error）
- **颜色值**: #FF4D4F
- **用途**: 错误状态、失败操作、删除确认

#### 信息色（Info）
- **颜色值**: #1890FF
- **用途**: 信息提示、帮助说明

### 中性色彩

#### 文本色彩
- **主要文本**: #262626 - 用于标题和重要内容
- **次要文本**: #595959 - 用于正文和说明
- **辅助文本**: #8C8C8C - 用于标签和次要信息
- **禁用文本**: #BFBFBF - 用于禁用状态

#### 背景色彩
- **主要背景**: #FFFFFF - 卡片和组件背景
- **次要背景**: #FAFAFA - 页面背景
- **辅助背景**: #F5F5F5 - 区域分隔背景

#### 边框色彩
- **主要边框**: #D9D9D9 - 输入框、卡片边框
- **次要边框**: #F0F0F0 - 分隔线
- **辅助边框**: #FAFAFA - 轻微分隔

### 颜色使用规范

#### 对比度要求
- **正文文本**: 对比度 ≥ 4.5:1
- **大文本**: 对比度 ≥ 3:1
- **非文本元素**: 对比度 ≥ 3:1

#### 颜色组合建议
```css
/* ✅ 推荐的颜色组合 */
.primary-button {
  background: #2E86AB;
  color: #FFFFFF;
}

.success-message {
  background: #F6FFED;
  color: #389E0D;
  border: 1px solid #B7EB8F;
}

/* ❌ 避免的颜色组合 */
.bad-contrast {
  background: #F5F5F5;
  color: #BFBFBF; /* 对比度不足 */
}
```

## 字体系统

### 字体族
```css
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
```

### 字体大小层级

#### 标题层级
- **H1**: 64rpx (32px) - 页面主标题
- **H2**: 56rpx (28px) - 区域标题
- **H3**: 44rpx (22px) - 组件标题
- **H4**: 36rpx (18px) - 小节标题

#### 正文层级
- **大正文**: 32rpx (16px) - 重要内容
- **标准正文**: 28rpx (14px) - 一般内容
- **小正文**: 24rpx (12px) - 辅助信息
- **极小文本**: 20rpx (10px) - 标签、提示

### 字体重量
- **细体**: 300 - 用于大标题的优雅展示
- **常规**: 400 - 正文内容的标准重量
- **中等**: 500 - 重要内容的适度强调
- **半粗体**: 600 - 小标题和按钮文字
- **粗体**: 700 - 强调和关键信息

### 行高规范
- **标题**: 1.2-1.3 - 紧凑的标题显示
- **正文**: 1.5 - 舒适的阅读体验
- **小文本**: 1.4 - 保持可读性

## 间距系统

### 间距原则
基于8点网格系统（8rpx = 4px），确保一致的视觉韵律。

### 间距层级
- **0**: 0 - 无间距
- **1**: 8rpx (4px) - 最小间距
- **2**: 16rpx (8px) - 小间距
- **3**: 24rpx (12px) - 中小间距
- **4**: 32rpx (16px) - 标准间距
- **5**: 40rpx (20px) - 中等间距
- **6**: 48rpx (24px) - 大间距
- **8**: 64rpx (32px) - 特大间距
- **10**: 80rpx (40px) - 超大间距
- **12**: 96rpx (48px) - 页面级间距
- **16**: 128rpx (64px) - 区域级间距

### 间距应用

#### 组件内间距
- **按钮内边距**: 24rpx 48rpx
- **输入框内边距**: 24rpx 32rpx
- **卡片内边距**: 32rpx

#### 组件间间距
- **表单项间距**: 32rpx
- **卡片间距**: 24rpx
- **列表项间距**: 16rpx

#### 页面间距
- **页面边距**: 32rpx
- **内容区域间距**: 48rpx
- **页面顶部间距**: 64rpx

## 圆角系统

### 圆角层级
- **无圆角**: 0 - 分隔线、边框
- **小圆角**: 8rpx (4px) - 标签、徽章
- **基础圆角**: 16rpx (8px) - 输入框、小按钮
- **中等圆角**: 24rpx (12px) - 卡片内元素
- **大圆角**: 32rpx (16px) - 卡片、按钮
- **特大圆角**: 40rpx (20px) - 特殊组件
- **完全圆形**: 50% - 头像、状态点

### 圆角应用原则
- **功能性元素**（按钮、输入框）使用较大圆角，增强交互感
- **信息性元素**（卡片、面板）使用中等圆角，保持现代感
- **装饰性元素**（徽章、标签）使用小圆角，精致细腻

## 阴影系统

### 阴影层级
设计了8个层级的阴影，用于表现不同的深度关系：

- **无阴影**: 平面元素
- **微阴影**: 0 2rpx 4rpx rgba(0, 0, 0, 0.05) - 轻微浮起
- **小阴影**: 0 2rpx 8rpx rgba(0, 0, 0, 0.08) - 卡片默认
- **基础阴影**: 0 4rpx 16rpx rgba(0, 0, 0, 0.1) - 悬停状态
- **中等阴影**: 0 8rpx 24rpx rgba(0, 0, 0, 0.12) - 弹出层
- **大阴影**: 0 16rpx 32rpx rgba(0, 0, 0, 0.15) - 模态框
- **特大阴影**: 0 24rpx 48rpx rgba(0, 0, 0, 0.18) - 抽屉
- **超大阴影**: 0 32rpx 64rpx rgba(0, 0, 0, 0.2) - 全屏遮罩

### 彩色阴影
用于特殊状态的强调：
- **主色阴影**: rgba(46, 134, 171, 0.25) - 主要操作
- **成功阴影**: rgba(82, 196, 26, 0.25) - 成功状态
- **警告阴影**: rgba(250, 173, 20, 0.25) - 警告状态
- **错误阴影**: rgba(255, 77, 79, 0.25) - 错误状态

## 组件设计规范

### 按钮（Button）

#### 尺寸规格
- **小按钮**: 高度 64rpx，内边距 16rpx 32rpx
- **中等按钮**: 高度 88rpx，内边距 24rpx 48rpx
- **大按钮**: 高度 96rpx，内边距 32rpx 64rpx

#### 状态设计
- **默认状态**: 使用主色填充
- **悬停状态**: 颜色加深10%
- **激活状态**: 颜色加深15%
- **禁用状态**: 使用灰色，降低透明度

#### 类型变体
- **主要按钮**: 实心背景，用于主要操作
- **次要按钮**: 边框样式，用于次要操作
- **文字按钮**: 无背景，用于轻量操作
- **图标按钮**: 正方形，用于工具操作

### 输入框（Input）

#### 尺寸规格
- **标准输入框**: 高度 88rpx，内边距 24rpx 32rpx
- **多行输入框**: 最小高度 120rpx，内边距 24rpx 32rpx

#### 状态设计
- **默认状态**: 浅色边框
- **聚焦状态**: 主色边框，带外阴影
- **错误状态**: 红色边框，错误信息提示
- **禁用状态**: 灰色背景，禁用光标

### 卡片（Card）

#### 基础规格
- **内边距**: 32rpx
- **圆角**: 32rpx
- **边框**: 2rpx solid #D9D9D9
- **阴影**: 基础阴影

#### 内容组织
- **标题区域**: 顶部，字体加粗
- **内容区域**: 中间，标准间距
- **操作区域**: 底部，右对齐

## 布局规范

### 网格系统

#### 栅格列数
- **移动端**: 1-2列
- **平板端**: 2-3列
- **桌面端**: 3-4列

#### 间距设置
- **列间距**: 32rpx
- **行间距**: 24rpx

### 页面布局

#### 标准页面结构
```
Header (导航栏)
├── Page Title (页面标题)
├── Actions (操作按钮)
└── Breadcrumb (面包屑，可选)

Content (内容区域)
├── Filters (筛选器，可选)
├── Main Content (主要内容)
└── Pagination (分页，可选)

Footer (页脚，可选)
```

#### 内容区域布局
- **页面边距**: 32rpx
- **内容最大宽度**: 1200rpx
- **内容居中**: 水平居中对齐

## 交互规范

### 触摸目标

#### 最小尺寸
- **触摸目标最小尺寸**: 88rpx × 88rpx (44px × 44px)
- **相邻目标间距**: 至少 16rpx (8px)

#### 交互反馈
- **视觉反馈**: 颜色变化、阴影变化
- **触觉反馈**: 轻微的缩放效果（scale: 0.95）
- **响应时间**: 反馈延迟 < 100ms

### 动画效果

#### 时间规范
- **微交互**: 150ms - 按钮反馈、状态切换
- **转场动画**: 300ms - 页面切换、模态框
- **复杂动画**: 500ms - 列表加载、内容展开

#### 缓动函数
- **标准缓动**: ease (0.25, 0.1, 0.25, 1)
- **进入缓动**: ease-out (0, 0, 0.2, 1)
- **退出缓动**: ease-in (0.4, 0, 1, 1)

### 状态管理

#### 加载状态
- **按钮加载**: 显示加载图标，禁用交互
- **页面加载**: 显示骨架屏或加载动画
- **数据加载**: 显示进度指示器

#### 错误状态
- **表单错误**: 红色边框 + 错误信息
- **页面错误**: 错误图标 + 错误说明 + 重试按钮
- **网络错误**: 网络状态提示 + 重新加载选项

## 无障碍设计

### 颜色可访问性

#### 对比度要求
- **正文文本**: 对比度比 ≥ 4.5:1
- **大文本（18pt+）**: 对比度比 ≥ 3:1
- **图形和UI组件**: 对比度比 ≥ 3:1

#### 颜色使用原则
- **不仅依赖颜色传达信息**：结合图标、文字、形状
- **提供多种信息传达方式**：颜色 + 图标 + 文字

### 焦点管理

#### 焦点指示器
- **可见性**: 明显的焦点边框
- **对比度**: 与背景对比度 ≥ 3:1
- **样式**: 4rpx 实线边框

#### 焦点顺序
- **逻辑顺序**: 从左到右，从上到下
- **跳过链接**: 提供跳过导航链接
- **焦点陷阱**: 模态框内的焦点循环

### 键盘导航

#### 支持的操作
- **Tab**: 前进到下一个可聚焦元素
- **Shift + Tab**: 后退到上一个可聚焦元素
- **Enter/Space**: 激活按钮和链接
- **Arrow Keys**: 在组件内导航（如菜单）
- **Escape**: 关闭模态框或菜单

### 屏幕阅读器支持

#### 语义化标记
- **标题层级**: 正确的 H1-H6 层级
- **列表结构**: 使用语义化列表标签
- **表单标签**: 明确的 label 关联
- **地标元素**: header, main, nav, footer

#### ARIA 属性
- **aria-label**: 为元素提供可访问的名称
- **aria-describedby**: 关联帮助文本和错误信息
- **aria-expanded**: 指示展开/折叠状态
- **aria-live**: 动态内容更新通知

## 响应式设计

### 断点系统

#### 断点定义
- **极小屏**: < 480rpx (~240px)
- **小屏**: 480rpx - 640rpx (~240-320px)
- **中屏**: 640rpx - 960rpx (~320-480px)
- **大屏**: 960rpx - 1200rpx (~480-600px)
- **超大屏**: > 1200rpx (~600px+)

### 适配策略

#### 布局适配
- **移动优先**: 从小屏开始设计
- **流式布局**: 使用百分比和弹性单位
- **内容优先**: 重要内容优先显示

#### 交互适配
- **触摸友好**: 足够大的触摸目标
- **手势支持**: 滑动、点击等手势操作
- **操作反馈**: 明确的操作状态反馈

## 图标系统

### 图标规范

#### 尺寸规格
- **小图标**: 32rpx (16px) - 内联图标
- **中图标**: 48rpx (24px) - 按钮图标
- **大图标**: 64rpx (32px) - 功能图标
- **特大图标**: 96rpx (48px) - 装饰图标

#### 风格特征
- **线条粗细**: 3rpx (1.5px)
- **圆角半径**: 4rpx (2px)
- **设计风格**: 简洁、现代、统一

#### 颜色使用
- **默认色**: #595959 - 一般图标
- **主要色**: #2E86AB - 重要图标
- **成功色**: #52C41A - 成功状态
- **警告色**: #FAAD14 - 警告状态
- **错误色**: #FF4D4F - 错误状态

### 图标库组织

#### 分类结构
```
icons/
├── system/          # 系统图标
│   ├── arrow-left
│   ├── arrow-right
│   ├── close
│   └── search
├── action/          # 操作图标
│   ├── add
│   ├── edit
│   ├── delete
│   └── save
├── status/          # 状态图标
│   ├── success
│   ├── warning
│   ├── error
│   └── info
└── business/        # 业务图标
    ├── patient
    ├── document
    ├── calendar
    └── statistics
```

## 插图和图片

### 插图风格

#### 视觉特征
- **风格**: 扁平化、友好、温暖
- **色彩**: 使用系统色彩调色板
- **人物**: 多样化、包容性
- **场景**: 医疗、关爱、科技

#### 使用场景
- **空状态**: 友好的空状态插图
- **错误页面**: 安慰性的错误插图
- **引导页面**: 功能介绍插图
- **成功反馈**: 庆祝性的成功插图

### 图片规范

#### 尺寸要求
- **头像**: 80rpx × 80rpx, 120rpx × 120rpx
- **缩略图**: 160rpx × 160rpx
- **卡片图片**: 320rpx × 240rpx
- **横幅图片**: 750rpx × 300rpx

#### 图片优化
- **格式**: WebP > JPEG > PNG
- **压缩**: 保持质量下的最小文件大小
- **懒加载**: 非首屏图片延迟加载
- **备用方案**: 提供加载失败的占位符

## 表单设计

### 表单布局

#### 基础结构
```
Form Container
├── Form Title (表单标题)
├── Form Groups (表单组)
│   ├── Label (标签)
│   ├── Input (输入框)
│   ├── Help Text (帮助文本)
│   └── Error Message (错误信息)
└── Form Actions (操作按钮)
```

#### 间距规范
- **表单组间距**: 32rpx
- **标签与输入框间距**: 16rpx
- **帮助文本间距**: 8rpx
- **操作按钮间距**: 24rpx

### 输入验证

#### 验证时机
- **实时验证**: 用户输入时即时验证
- **失焦验证**: 输入框失去焦点时验证
- **提交验证**: 表单提交前最终验证

#### 错误显示
- **视觉指示**: 红色边框 + 错误图标
- **文字说明**: 具体的错误原因和解决方法
- **位置**: 紧邻相关输入框下方
- **样式**: 红色文字，小字体

### 帮助信息

#### 帮助文本
- **位置**: 输入框下方
- **样式**: 灰色文字，小字体
- **内容**: 简洁的使用说明

#### 工具提示
- **触发**: 悬停或点击帮助图标
- **内容**: 详细的使用说明
- **样式**: 浮动气泡，带箭头指向

## 数据展示

### 表格设计

#### 基础样式
- **表头**: 灰色背景，粗体文字
- **行间距**: 24rpx
- **单元格间距**: 16rpx
- **边框**: 淡灰色分隔线

#### 响应式表格
- **移动端**: 卡片式布局代替表格
- **平板端**: 横向滚动表格
- **桌面端**: 完整表格显示

### 列表设计

#### 列表项样式
- **间距**: 16rpx 行间距
- **内边距**: 24rpx
- **分隔线**: 1rpx 灰色线
- **悬停**: 浅色背景高亮

#### 列表类型
- **简单列表**: 文字 + 图标
- **详情列表**: 多行信息展示
- **操作列表**: 带操作按钮的列表
- **头像列表**: 带头像的用户列表

### 统计图表

#### 图表类型
- **柱状图**: 数量对比
- **饼图**: 比例展示
- **折线图**: 趋势变化
- **环形图**: 进度展示

#### 设计规范
- **色彩**: 使用系统调色板
- **标签**: 清晰的轴标签和图例
- **交互**: 悬停显示具体数值
- **无障碍**: 提供数据表格备选方案

## 反馈系统

### 消息提示

#### 提示类型
- **成功提示**: 绿色，带成功图标
- **警告提示**: 黄色，带警告图标
- **错误提示**: 红色，带错误图标
- **信息提示**: 蓝色，带信息图标

#### 显示规则
- **位置**: 页面顶部或相关组件附近
- **持续时间**: 3-5秒自动消失
- **交互**: 点击关闭按钮手动关闭
- **动画**: 滑入滑出效果

### 确认对话框

#### 对话框结构
- **标题**: 明确的操作描述
- **内容**: 详细的影响说明
- **操作**: 确认和取消按钮
- **图标**: 相应的状态图标

#### 设计规范
- **模态遮罩**: 半透明黑色背景
- **居中显示**: 屏幕中央位置
- **最大宽度**: 600rpx
- **圆角**: 大圆角 (32rpx)

### 加载状态

#### 加载指示器
- **按钮加载**: 旋转图标 + 文字
- **页面加载**: 全屏加载动画
- **局部加载**: 骨架屏占位
- **进度加载**: 进度条显示

#### 超时处理
- **超时时间**: 30秒
- **超时提示**: 友好的错误信息
- **重试机制**: 提供重新加载选项

## 性能优化

### 视觉性能

#### 渲染优化
- **GPU加速**: 使用 transform 属性
- **减少重绘**: 避免频繁的样式变更
- **虚拟滚动**: 长列表的性能优化
- **图片懒加载**: 非首屏图片延迟加载

#### 动画优化
- **硬件加速**: transform 和 opacity
- **避免layout**: 不使用 width、height 动画
- **requestAnimationFrame**: 使用浏览器优化的动画循环

### 加载性能

#### 资源优化
- **图片压缩**: 合适的格式和质量
- **字体优化**: 仅加载必要的字符集
- **代码分割**: 按需加载功能模块
- **缓存策略**: 合理的缓存时间设置

## 维护指南

### 设计系统更新

#### 更新流程
1. **需求收集**: 收集设计变更需求
2. **影响评估**: 评估变更对现有组件的影响
3. **设计更新**: 更新设计文件和规范
4. **代码同步**: 更新代码实现
5. **文档更新**: 更新设计文档
6. **团队通知**: 通知团队成员变更内容

#### 版本管理
- **语义版本**: 使用语义化版本号
- **变更日志**: 详细记录每次变更
- **向后兼容**: 保持向后兼容性
- **迁移指南**: 提供升级迁移指南

### 质量保证

#### 设计审查
- **一致性检查**: 确保遵循设计规范
- **可用性评估**: 用户体验质量评估
- **无障碍审查**: 无障碍标准符合性检查
- **性能评估**: 设计对性能的影响评估

#### 工具支持
- **设计工具**: Figma 组件库
- **代码检查**: ESLint + Stylelint
- **自动化测试**: 视觉回归测试
- **文档生成**: 自动化文档生成工具

---

**文档版本**: 1.0
**创建日期**: 2024年12月
**最后更新**: 2024年12月
**维护团队**: 设计系统小组