# Test Design: Story 1.20

Date: 2025-10-07
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 9
- Unit tests: 4 (44%)
- Integration tests: 3 (33%)
- E2E tests: 2 (22%)
- Priority distribution: P0: 2, P1: 4, P2: 3

## Test Scenarios by Acceptance Criteria

### AC1: 文案标准表输出

| ID              | Level       | Priority | Test                                                      | Justification |
| --------------- | ----------- | -------- | --------------------------------------------------------- | ------------- |
| 1.20-UNIT-001   | Unit        | P1       | Schema validator ensures status copy table structure       | Logic-only |
| 1.20-UNIT-002   | Unit        | P2       | Automated lint verifying punctuation and tone guidelines   | Static content |
| 1.20-INT-001    | Integration | P1       | Markdown publish pipeline renders table accessible         | Documentation build |

### AC2: 页面落地替换

| ID              | Level       | Priority | Test                                                      | Justification |
| --------------- | ----------- | -------- | --------------------------------------------------------- | ------------- |
| 1.20-UNIT-003   | Unit        | P1       | Const map resolves keys -> localized strings              | Mapping logic |
| 1.20-INT-002    | Integration | P0       | Snapshot diff for detail/list/attachment pages verifying copy updates & pm-button text | Core UX |
| 1.20-E2E-001    | E2E         | P1       | Device: traverse key flows ensuring new copy displayed and comprehensible | User validation |

### AC3: 危险操作结构化文案

| ID              | Level       | Priority | Test                                                      | Justification |
| --------------- | ----------- | -------- | --------------------------------------------------------- | ------------- |
| 1.20-UNIT-004   | Unit        | P0       | Danger dialog template enforces title/body/action triple   | Prevents missing guidance |
| 1.20-INT-003    | Integration | P1       | Trigger delete/export flows verifying template applied     | Flow-level |

### AC4: 审核与测试更新

| ID              | Level       | Priority | Test                                                      | Justification |
| --------------- | ----------- | -------- | --------------------------------------------------------- | ------------- |
| 1.20-E2E-002    | E2E         | P2       | Smoke run verifying automated tests referencing constants still pass | Regression |

## Risk Coverage

- Copy mismatches -> 1.20-UNIT-003 & 1.20-INT-002.
- Dangerous messaging missing -> 1.20-UNIT-004 & 1.20-INT-003.

## Recommended Execution Order

1. 1.20-UNIT-001
2. 1.20-UNIT-002
3. 1.20-UNIT-003
4. 1.20-UNIT-004
5. 1.20-INT-001
6. 1.20-INT-002
7. 1.20-INT-003
8. 1.20-E2E-001
9. 1.20-E2E-002
