# QA 专项测试环境筹备计划（弱网 & 可访问性）

更新日期：2025-10-07
编写人：Quinn（QA）

## 目标
- 支持 Stories 1.11–1.21 中涉及的弱网性能、可访问性、批量操作风险场景。
- 在 D2 前准备完毕，确保设计走查后即可进入集成验证。

## 环境清单

### 1. 弱网模拟
- **工具**：微信开发者工具（调试面板 Network Throttling）+ Charles/Proxyman 备用。
- **预设**：
  - `3G Fast`（下行 1.6Mbps / 延迟 150ms）
  - `3G Slow`（下行 400kbps / 延迟 400ms）
  - 自定义 `Weak Wi-Fi`（下行 800kbps / 上行 256kbps / 延迟 250ms）
- **脚本/操作**：
  - 导入 `scripts/tools/network-throttle-profile.json` 至开发者工具。
  - 记录每次测试的网络配置与 TTI 结果，对应 `docs/qa/assessments/1.19-test-design-20251007.md` 的性能用例。

### 2. 可访问性设备
- **iOS**：iPhone 12（iOS 17）开启 VoiceOver。
- **Android**：Pixel 6（Android 14）开启 TalkBack。
- **桌面**：Windows 10 + NVDA 2024.2，用于键盘操作确认。
- **准备事项**：
  - 更新系统与微信版本至最新稳定版。
  - 下载并安装最新 NVDA；导出快捷键配置供团队共享。

### 3. 其他工具
- 屏幕录制：OBS Studio，用于记录操作流程（批量删除、锚点导航）。
- 日志收集：启用微信开发者工具的 Performance 面板导出 JSON。
- 缓存清理：使用 `scripts/tools/clear-storage.js` 快速清空本地存储以测试筛选持久化。

## 数据准备
- 创建测试账号：`qa-story-1-11`、`qa-story-1-12`（权限覆盖详情/附件/批量操作）。
- 准备样例附件：
  - 图片 5 张（2MB 内，命名 `qa-intake-*.jpg`）。
  - 文档 5 个（TXT/PDF 各 2，DOCX 1）。
- 预置住户数据：至少 20 条，覆盖不同状态（在住/待入住/离开）与入院记录长度。

## 时间线
- **D0 结束前**：完成设备检查、弱网配置模板、测试账号申请。
- **D1**：完成网络脚本与本地存储清理脚本；在 Confluence/README 中记录使用指南。
- **D2**：与设计走查同步演示关键场景；收集额外需求后调整环境。

## 风险与应对
| 风险 | 等级 | 缓解措施 |
| ---- | ---- | -------- |
| 设备调配不足 | 中 | 与硬件管理协同，预留备用设备；必要时使用模拟器作为补充 |
| 网络限速不稳定 | 高 | 保留本地代理方案（Charles），并记录每次测试的真实速率 |
| 数据重复导致配额干扰 | 中 | 使用脚本初始化测试数据，并在测试后清理附件/记录 |

## 后续行动
- [x] 生成网络限速配置文件 & 缓存清理脚本草稿。
- [x] 完成弱网 & 可访问性环境可用性巡检（日志见 `docs/qa/logs/special-env-check-20251008.md`）。
- [ ] D1 下午 14:00 复测 VoiceOver/TalkBack（责任人：Helen；结果记录于 `docs/qa/logs/special-env-check-20251009.md`）。
- [ ] D2 前整理性能测试数据模板并共享至 QA 频道（责任人：Quinn）。
- [x] 2025-10-09 11:00 发送复测提醒（参考 `docs/qa/communication/20251009-env-reminder.md`；Quinn 已确认 10:55 预热提示）。
- [ ] 在 QA 团队频道同步环境准备清单，并指派负责人。
- [ ] 于 Kick-off 会议上汇报准备进度与需求。
