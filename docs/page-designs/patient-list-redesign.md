# 患者列表页面重设计方案

## 设计目标
1. **极速定位**：将患者搜索与筛选的平均耗时控制在 10 秒内，支持多条件组合与历史方案。
2. **信息清晰**：通过渐进式卡片与自定义列配置，在不同终端保持高可读性。
3. **批量效率**：提供多选、批量导出、批量提醒等能力，满足护理团队协同需求。
4. **可扩展性**：支持业务属性扩展、标签管理与权限控制。

## 页面结构
```
患者列表
├─ 顶部搜索与视图切换
│  ├─ 智能搜索框（姓名/拼音/手机号/病历号/模糊）
│  ├─ 快捷筛选（状态、入住阶段、风险等级）
│  └─ 视图切换（卡片/列表/表格）
├─ 高级过滤抽屉（可折叠）
├─ 列表主体
│  ├─ 患者卡片（默认视图）
│  ├─ 多选操作栏
│  └─ 空状态 / 加载状态 / 错误状态
└─ 底部批量操作区 + 分页
```

## 关键模块
### 1. 搜索与快捷筛选
- **智能搜索**：输入时提供模糊匹配、历史记录、常用关键字；支持语音输入。
- **快捷筛选**：包含“今日入住”“高风险”“资料待补全”“已出院待跟进”等预设。
- **排序**：按最后更新、入住时间、等级、床位等维度。
- **交互**：
  - 搜索建议可直接跳转详情。
  - 支持保存筛选方案并分享给团队。

### 2. 高级过滤抽屉
- **触发**：点击“高级筛选”展开右侧抽屉，宽度 540rpx。
- **滤镜类型**：年龄段、性别、诊断类型、所属病房、责任人、标签、是否有未完成任务等。
- **组合逻辑**：AND/OR 逻辑构建，可视化表达。
- **可保存**：命名后加入“我的筛选”列表。

### 3. 列表主体
- **卡片视图（默认）**：
  - 头部：姓名 + 年龄 + 状态标签（颜色遵循语义色）。
  - 主体：入住天数、负责护士、主要诊断、附件状态、最新事件摘要。
  - 底部：快捷操作按钮（查看详情、发起提醒、标记任务）。
- **表格视图**：
  - 支持列自定义、固定列、排序、导出。
  - 针对桌面端优化，显示更多字段。
- **列表视图**：介于卡片与表格之间的简洁展示，用于移动端。

### 4. 多选与批量操作
- 长按/勾选卡片进入批量模式，顶部显现操作栏。
- 提供批量提醒、批量更新标签、批量导出、批量移交责任等操作。
- 选中项在底部浮层显示数量与摘要，支持取消或反选。

### 5. 空/加载/错误状态
- **加载中**：骨架屏 + 线性进度条。
- **空状态**：提供操作指引与“创建新患者”按钮。
- **错误状态**：显示错误原因与重试按钮，保留筛选条件。

## 交互细节
- 进入页面默认展示最近访问的筛选方案。
- 所有操作支持键盘快捷键（Ctrl+F 搜索、Ctrl+Shift+A 全选、Delete 删除、Ctrl+E 导出）。
- 滚动到 200rpx 时固定顶部搜索条，保证随时可用。
- 支持列宽拖拽、列顺序调整，并在本地缓存配置。

## 无障碍与适配
- 搜索框提供 `aria-autocomplete="list"`，提示内容可被屏幕阅读器读取。
- 列表项使用 `role="listitem"`，状态标签提供 `aria-label` 描述。
- 触控目标最小 88rpx；提供左右滑动手势（移动端）以展开快捷操作。
- 高对比度模式下，使用设计令牌中的高对比变体颜色。

## 响应式策略
| 终端 | 展示策略 |
|------|----------|
| 移动端 | 默认列表视图，突出搜索栏；批量操作采用底部滑出面板。 |
| 平板 | 显示卡片视图 + 抽屉；批量操作栏固定在顶部。 |
| 桌面端 | 默认表格视图，可并排显示高级过滤器；提供鼠标 hover 动效。 |

## 性能与技术建议
- 列表采用虚拟滚动，仅渲染可视区域。
- 搜索与筛选调用统一接口，返回分页数据，避免重复请求。
- 缓存最近一次列表数据与筛选条件，支持离线查看（只读）。
- 对批量操作提供后台异步处理与结果通知。

## 度量指标
- 搜索成功率 ≥ 95%。
- 列表渲染帧率 ≥ 45fps；翻页响应 < 500ms。
- 批量操作成功率 ≥ 98%，失败提供可追踪日志。
- 无障碍通过内部审查与工具校验。

## 文档信息
- **版本**：1.1
- **更新时间**：2025-09-22
- **负责人**：产品设计团队
