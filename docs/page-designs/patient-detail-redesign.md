# 患者详情页面重设计方案

## 设计目标
1. **一目了然**：在首屏提供患者状态、风险、待办与关键联系人，减少信息搜寻时间。
2. **编辑高效**：统一编辑模式，支持段落式保存、自动校验与协作记录。
3. **完整历史**：以时间轴呈现护理记录、入住事件、文件变更，方便追溯。
4. **合规可靠**：强化附件管理、权限控制与操作日志，满足公益与医疗管理要求。

## 页面布局
```
患者详情
├─ 顶部概览（头像 + 基本信息 + 状态标签 + 风险提示）
├─ 快捷操作栏（编辑 / 添加记录 / 上传文件 / 发起通知）
├─ 左侧主信息分组
│  ├─ 基本信息（个人背景、联系方式、家庭情况）
│  ├─ 医疗信息（诊断、治疗方案、医疗机构、过敏史）
│  ├─ 入住与服务记录（入住批次、床位、志愿者服务）
│  ├─ 财务与资助信息（费用、资助来源、付款状态）
│  └─ 自定义字段（按项目配置）
├─ 右侧辅助信息
│  ├─ 联系人列表（家属、主治医生、志愿者）
│  ├─ 附件与证件（自动分类、版本控制）
│  └─ 任务与提醒（个人/团队待办）
└─ 底部时间轴（护理记录、系统事件、沟通日志）
```

## 核心模块
### 1. 顶部概览
- 展示姓名、年龄、性别、入住天数、当前阶段、风险等级、最后更新时间。
- 关键指标使用 Pill 样式标签，例如“高风险”“资料待补充”。
- 提供“标记关注”“打印档案”“切换上一/下一位患者”功能。

### 2. 编辑与查看模式
- 默认“查看模式”；点击“编辑”进入区块式编辑。
- 每个信息分组可单独保存，减少整页提交风险。
- 表单字段使用设计系统表单组件，提供实时校验与错误提示。
- 支持并行编辑提醒：若其他成员正在编辑，提示只读或申请协同编辑。

### 3. 联系人与任务
- 联系人按类型分组：主联系人、紧急联系人、医疗联系人、志愿者。
- 支持快速呼叫（点击拨号/复制微信）、标记标签（家属/医生/社工）。
- 任务面板展示待办列表、责任人、截止时间，可一键完成或转交。

### 4. 附件与证件
- 自动根据类型分为“个人身份”“医疗资料”“财务票据”“其他”。
- 支持批量上传、拖拽排序、版本记录、下载与分享。
- 提供 OCR 建议标签与缺失提醒。
- 所有操作写入操作日志，满足追踪要求。

### 5. 时间轴
- 以倒序展示护理记录、入住事件、通知、文件上传等。
- 支持按类型/日期/责任人过滤。
- 点击事件可展开详情或跳转到对应模块。
- 提供“导出为日报/周报”功能。

## 交互细节
- 编辑状态下滚动到具体分组自动展开该卡片。
- 表单保存后显示成功提示，并刷新时间轴记录。
- 支持快捷键：Ctrl+E 编辑、Ctrl+S 保存、Ctrl+Shift+N 新增记录。
- 详情页支持标签化搜索，例如输入 `#高风险` 快速过滤时间轴。

## 无障碍与隐私
- 所有按钮、字段提供 ARIA 标签与描述。
- 联系人信息支持屏幕阅读器按逻辑顺序朗读。
- 敏感字段可根据权限自动隐藏或模糊化。
- 附件列表提供键盘操作与文件类型语音说明。

## 响应式与设备适配
| 终端 | 适配策略 |
|------|----------|
| 移动端 | 采用单列滚动，顶部概览固定；时间轴置于底部；附件模块以列表展示。 |
| 平板 | 左右两列布局，信息分组与辅助信息并排；时间轴折叠。 |
| 桌面端 | 主区域 + 右侧栏并列；时间轴固定高度并可滚动。 |

## 性能与技术建议
- 分块加载：首次仅加载概览、基本信息、联系人，其余模块按需请求。
- 表单保存采用 PATCH 接口，返回最新版本号，提高并发安全性。
- 附件上传支持断点续传、安全校验与敏感文件加密存储。
- 时间轴可分页加载，每次 20 条事件，支持无限滚动。

## 度量与验收标准
- 编辑完成一次患者信息的平均耗时降低 40%。
- 资料完整率 ≥ 95%，缺失提示准确率 ≥ 90%。
- 附件上传成功率 ≥ 98%，平均响应时间 < 1 秒。
- 任务完成率提升 30%，通知响应时间缩短 25%。
- 可用性测试满意度 ≥ 4.6/5，无障碍审核通过。

## 文档信息
- **版本**：1.1
- **更新时间**：2025-09-22
- **负责人**：产品设计团队
