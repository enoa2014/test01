<view class="detail-container">
  <view wx:if="{{loading}}" class="placeholder">正在加载患者信息…</view>
  <view wx:elif="{{error}}" class="error">{{error}}</view>
  <scroll-view wx:else scroll-y class="detail-scroll">
    <view wx:if="{{patient}}" class="patient-header">
      <text class="patient-detail-name">{{patient.patientName}}</text>
    </view>

    <view wx:if="{{basicInfo.length}}" class="info-section">
      <text class="section-title">患者基本信息</text>
      <view class="info-row" wx:for="{{basicInfo}}" wx:key="label">
        <text class="label">{{item.label}}</text>
        <text class="value">{{item.value}}</text>
      </view>
    </view>

    <view wx:if="{{familyInfo.length}}" class="info-section">
      <text class="section-title">家庭信息</text>
      <view class="info-row" wx:for="{{familyInfo}}" wx:key="label">
        <text class="label">{{item.label}}</text>
        <text class="value">{{item.value}}</text>
      </view>
    </view>

    <view wx:if="{{economicInfo.length}}" class="info-section">
      <text class="section-title">经济情况</text>
      <view class="info-row" wx:for="{{economicInfo}}" wx:key="label">
        <text class="label">{{item.label}}</text>
        <text class="value">{{item.value}}</text>
      </view>
    </view>

    <view class="records" wx:if="{{records.length}}">
      <text class="section-title">入住记录</text>
      <view class="record-item" wx:for="{{records}}" wx:key="rawRowIndex">
        <text class="record-title">{{item.title}}</text>
        <view class="record-field" wx:for="{{item.info}}" wx:key="label">
          <text class="label">{{item.label}}</text>
          <text class="value">{{item.value}}</text>
        </view>
      </view>
    </view>

    <view wx:elif="{{!records.length}}" class="placeholder">暂无入住记录</view>
  </scroll-view>
</view>
