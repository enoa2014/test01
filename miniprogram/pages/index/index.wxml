<view class="container">
  <view class="hero">
    <text class="title">入住关怀档案</text>
    <text class="subtitle">数据来自云环境：{{envId}}</text>
    <text class="subtitle">云函数环境：{{cloudEnvId}}</text>
  </view>

  <view class="actions">
    <button class="primary" bindtap="onRetry" loading="{{loading}}">{{loading ? "读取中" : "重新加载"}}</button>
    <button class="secondary" bindtap="onImport" loading="{{importing}}" disabled="{{loading || importing}}">同步到云数据库</button>
  </view>

  <view wx:if="{{importStatus}}" class="status">{{importStatus}}</view>

  <view wx:if="{{loading}}" class="placeholder">正在读取 Excel 数据…</view>
  <view wx:elif="{{error}}" class="error">{{error}}</view>
  <scroll-view wx:else scroll-y class="table-container">
    <view class="table excel-table">
      <view class="row header" wx:if="{{headers.length}}">
        <text class="cell" wx:for="{{headers}}" wx:key="header">{{item || '-'}}</text>
      </view>
      <view class="row" wx:for="{{rows}}" wx:key="index">
        <text class="cell" wx:for="{{item}}" wx:key="inner">{{item || '-'}}</text>
      </view>
    </view>
  </scroll-view>
</view>
